{"environment":"development","level":"error","message":"日志警报触发: 安全事件警报 - 在1分钟内检测到8次匹配（阈值: 1）","service":"cattle-management-api","timestamp":"2025-07-25 23:42:07.374","version":"1.0.0"}
{"environment":"development","level":"error","message":"❌ Configuration validation failed: Configuration validation failed:\n  - Database name (DB_NAME) is required\n  - Database user (DB_USER) is required\n  - Database password (DB_PASSWORD) is required","service":"cattle-management-api","stack":"Error: Configuration validation failed:\n  - Database name (DB_NAME) is required\n  - Database user (DB_USER) is required\n  - Database password (DB_PASSWORD) is required\n    at ConfigManager.initialize (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:31:13)\n    at StartupChecker.checkConfiguration (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:86:27)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:53:16)\n    at startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:231:48)\n    at Object.<anonymous> (D:\\develop\\dameicattle\\backend\\src\\app.ts:374:3)\n    at Module._compile (node:internal/modules/cjs/loader:1730:14)\n    at Module.m._compile (D:\\develop\\dameicattle\\backend\\node_modules\\ts-node\\src\\index.ts:1618:23)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\develop\\dameicattle\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)","timestamp":"2025-07-25 23:54:32.785","version":"1.0.0"}
{"environment":"development","level":"error","message":"❌ Environment check failed: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at StartupChecker.checkEnvironment (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:104:36)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:56:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:231:27)","timestamp":"2025-07-25 23:54:32.794","version":"1.0.0"}
{"environment":"development","level":"error","message":"Failed to initialize database configuration: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at ConfigManager.getDatabaseConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:66:17)\n    at initializeSequelize (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:37:36)\n    at initializeDatabaseManager (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:80:5)\n    at StartupChecker.checkDatabase (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:164:33)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:59:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:231:27)","timestamp":"2025-07-25 23:54:32.801","version":"1.0.0"}
{"environment":"development","level":"error","message":"Failed to initialize database manager: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at ConfigManager.getDatabaseConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:66:17)\n    at initializeSequelize (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:37:36)\n    at initializeDatabaseManager (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:80:5)\n    at StartupChecker.checkDatabase (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:164:33)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:59:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:231:27)","timestamp":"2025-07-25 23:54:32.804","version":"1.0.0"}
{"environment":"development","level":"error","message":"❌ File system check failed: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at StartupChecker.checkFileSystem (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:232:36)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:65:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:231:27)","timestamp":"2025-07-25 23:54:33.081","version":"1.0.0"}
{"environment":"development","level":"error","message":"❌ Configuration validation failed: Configuration validation failed:\n  - Database name (DB_NAME) is required\n  - Database user (DB_USER) is required\n  - Database password (DB_PASSWORD) is required","service":"cattle-management-api","stack":"Error: Configuration validation failed:\n  - Database name (DB_NAME) is required\n  - Database user (DB_USER) is required\n  - Database password (DB_PASSWORD) is required\n    at ConfigManager.initialize (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:31:13)\n    at StartupChecker.checkConfiguration (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:86:27)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:53:16)\n    at startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:235:48)\n    at Object.<anonymous> (D:\\develop\\dameicattle\\backend\\src\\app.ts:378:3)\n    at Module._compile (node:internal/modules/cjs/loader:1730:14)\n    at Module.m._compile (D:\\develop\\dameicattle\\backend\\node_modules\\ts-node\\src\\index.ts:1618:23)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\develop\\dameicattle\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)","timestamp":"2025-07-26 00:02:46.689","version":"1.0.0"}
{"environment":"development","level":"error","message":"❌ Environment check failed: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at StartupChecker.checkEnvironment (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:104:36)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:56:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:235:27)","timestamp":"2025-07-26 00:02:46.703","version":"1.0.0"}
{"environment":"development","level":"error","message":"Failed to initialize database configuration: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at ConfigManager.getDatabaseConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:66:17)\n    at initializeSequelize (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:37:36)\n    at initializeDatabaseManager (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:80:5)\n    at StartupChecker.checkDatabase (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:164:33)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:59:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:235:27)","timestamp":"2025-07-26 00:02:46.709","version":"1.0.0"}
{"environment":"development","level":"error","message":"Failed to initialize database manager: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at ConfigManager.getDatabaseConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:66:17)\n    at initializeSequelize (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:37:36)\n    at initializeDatabaseManager (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:80:5)\n    at StartupChecker.checkDatabase (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:164:33)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:59:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:235:27)","timestamp":"2025-07-26 00:02:46.712","version":"1.0.0"}
{"environment":"development","level":"error","message":"❌ File system check failed: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at StartupChecker.checkFileSystem (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:232:36)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:65:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:235:27)","timestamp":"2025-07-26 00:02:47.178","version":"1.0.0"}
{"environment":"development","level":"error","message":"❌ Configuration validation failed: Configuration validation failed:\n  - Database name (DB_NAME) is required\n  - Database user (DB_USER) is required\n  - Database password (DB_PASSWORD) is required","service":"cattle-management-api","stack":"Error: Configuration validation failed:\n  - Database name (DB_NAME) is required\n  - Database user (DB_USER) is required\n  - Database password (DB_PASSWORD) is required\n    at ConfigManager.initialize (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:31:13)\n    at StartupChecker.checkConfiguration (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:86:27)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:53:16)\n    at startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:235:48)\n    at Object.<anonymous> (D:\\develop\\dameicattle\\backend\\src\\app.ts:378:3)\n    at Module._compile (node:internal/modules/cjs/loader:1730:14)\n    at Module.m._compile (D:\\develop\\dameicattle\\backend\\node_modules\\ts-node\\src\\index.ts:1618:23)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\develop\\dameicattle\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)","timestamp":"2025-07-26 00:03:08.228","version":"1.0.0"}
{"environment":"development","level":"error","message":"❌ Environment check failed: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at StartupChecker.checkEnvironment (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:104:36)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:56:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:235:27)","timestamp":"2025-07-26 00:03:08.236","version":"1.0.0"}
{"environment":"development","level":"error","message":"Failed to initialize database configuration: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at ConfigManager.getDatabaseConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:66:17)\n    at initializeSequelize (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:37:36)\n    at initializeDatabaseManager (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:80:5)\n    at StartupChecker.checkDatabase (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:164:33)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:59:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:235:27)","timestamp":"2025-07-26 00:03:08.240","version":"1.0.0"}
{"environment":"development","level":"error","message":"Failed to initialize database manager: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at ConfigManager.getDatabaseConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:66:17)\n    at initializeSequelize (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:37:36)\n    at initializeDatabaseManager (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:80:5)\n    at StartupChecker.checkDatabase (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:164:33)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:59:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:235:27)","timestamp":"2025-07-26 00:03:08.241","version":"1.0.0"}
{"environment":"development","level":"error","message":"❌ File system check failed: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at StartupChecker.checkFileSystem (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:232:36)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:65:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:235:27)","timestamp":"2025-07-26 00:03:08.529","version":"1.0.0"}
{"environment":"development","level":"error","message":"❌ Configuration validation failed: Configuration validation failed:\n  - Database name (DB_NAME) is required\n  - Database user (DB_USER) is required\n  - Database password (DB_PASSWORD) is required\n  - JWT secret (JWT_SECRET) is required","service":"cattle-management-api","stack":"Error: Configuration validation failed:\n  - Database name (DB_NAME) is required\n  - Database user (DB_USER) is required\n  - Database password (DB_PASSWORD) is required\n  - JWT secret (JWT_SECRET) is required\n    at ConfigManager.initialize (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:31:13)\n    at StartupChecker.checkConfiguration (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:86:27)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:53:16)\n    at startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:205:48)\n    at Object.<anonymous> (D:\\develop\\dameicattle\\backend\\src\\app.ts:348:3)\n    at Module._compile (node:internal/modules/cjs/loader:1730:14)\n    at Module.m._compile (D:\\develop\\dameicattle\\backend\\node_modules\\ts-node\\src\\index.ts:1618:23)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\develop\\dameicattle\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)","timestamp":"2025-07-26 00:10:00.653","version":"1.0.0"}
{"environment":"development","level":"error","message":"❌ Environment check failed: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at StartupChecker.checkEnvironment (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:104:36)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:56:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:205:27)","timestamp":"2025-07-26 00:10:00.663","version":"1.0.0"}
{"environment":"development","level":"error","message":"Failed to initialize database configuration: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at ConfigManager.getDatabaseConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:66:17)\n    at initializeSequelize (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:37:36)\n    at initializeDatabaseManager (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:80:5)\n    at StartupChecker.checkDatabase (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:164:33)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:59:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:205:27)","timestamp":"2025-07-26 00:10:00.667","version":"1.0.0"}
{"environment":"development","level":"error","message":"Failed to initialize database manager: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at ConfigManager.getDatabaseConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:66:17)\n    at initializeSequelize (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:37:36)\n    at initializeDatabaseManager (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:80:5)\n    at StartupChecker.checkDatabase (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:164:33)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:59:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:205:27)","timestamp":"2025-07-26 00:10:00.670","version":"1.0.0"}
{"environment":"development","level":"error","message":"❌ File system check failed: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at StartupChecker.checkFileSystem (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:232:36)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:65:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:205:27)","timestamp":"2025-07-26 00:10:00.914","version":"1.0.0"}
{"environment":"development","level":"error","message":"❌ Configuration validation failed: Configuration validation failed:\n  - Database name (DB_NAME) is required\n  - Database user (DB_USER) is required\n  - Database password (DB_PASSWORD) is required","service":"cattle-management-api","stack":"Error: Configuration validation failed:\n  - Database name (DB_NAME) is required\n  - Database user (DB_USER) is required\n  - Database password (DB_PASSWORD) is required\n    at ConfigManager.initialize (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:31:13)\n    at StartupChecker.checkConfiguration (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:86:27)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:53:16)\n    at startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:237:48)\n    at Object.<anonymous> (D:\\develop\\dameicattle\\backend\\src\\app.ts:380:3)\n    at Module._compile (node:internal/modules/cjs/loader:1730:14)\n    at Module.m._compile (D:\\develop\\dameicattle\\backend\\node_modules\\ts-node\\src\\index.ts:1618:23)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\develop\\dameicattle\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)","timestamp":"2025-07-27 00:53:22.117","version":"1.0.0"}
{"environment":"development","level":"error","message":"❌ Environment check failed: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at StartupChecker.checkEnvironment (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:104:36)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:56:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:237:27)","timestamp":"2025-07-27 00:53:22.125","version":"1.0.0"}
{"environment":"development","level":"error","message":"Failed to initialize database configuration: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at ConfigManager.getDatabaseConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:66:17)\n    at initializeSequelize (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:37:36)\n    at initializeDatabaseManager (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:80:5)\n    at StartupChecker.checkDatabase (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:164:33)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:59:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:237:27)","timestamp":"2025-07-27 00:53:22.130","version":"1.0.0"}
{"environment":"development","level":"error","message":"Failed to initialize database manager: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at ConfigManager.getDatabaseConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:66:17)\n    at initializeSequelize (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:37:36)\n    at initializeDatabaseManager (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:80:5)\n    at StartupChecker.checkDatabase (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:164:33)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:59:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:237:27)","timestamp":"2025-07-27 00:53:22.133","version":"1.0.0"}
{"environment":"development","level":"error","message":"❌ File system check failed: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at StartupChecker.checkFileSystem (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:232:36)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:65:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:237:27)","timestamp":"2025-07-27 00:53:22.532","version":"1.0.0"}
{"environment":"development","level":"error","message":"❌ Configuration validation failed: Configuration validation failed:\n  - Database name (DB_NAME) is required\n  - Database user (DB_USER) is required\n  - Database password (DB_PASSWORD) is required","service":"cattle-management-api","stack":"Error: Configuration validation failed:\n  - Database name (DB_NAME) is required\n  - Database user (DB_USER) is required\n  - Database password (DB_PASSWORD) is required\n    at ConfigManager.initialize (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:31:13)\n    at StartupChecker.checkConfiguration (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:86:27)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:53:16)\n    at startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:237:48)\n    at Object.<anonymous> (D:\\develop\\dameicattle\\backend\\src\\app.ts:380:3)\n    at Module._compile (node:internal/modules/cjs/loader:1730:14)\n    at Module.m._compile (D:\\develop\\dameicattle\\backend\\node_modules\\ts-node\\src\\index.ts:1618:23)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\develop\\dameicattle\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)","timestamp":"2025-07-27 00:54:50.672","version":"1.0.0"}
{"environment":"development","level":"error","message":"❌ Environment check failed: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at StartupChecker.checkEnvironment (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:104:36)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:56:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:237:27)","timestamp":"2025-07-27 00:54:50.680","version":"1.0.0"}
{"environment":"development","level":"error","message":"Failed to initialize database configuration: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at ConfigManager.getDatabaseConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:66:17)\n    at initializeSequelize (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:37:36)\n    at initializeDatabaseManager (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:80:5)\n    at StartupChecker.checkDatabase (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:164:33)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:59:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:237:27)","timestamp":"2025-07-27 00:54:50.686","version":"1.0.0"}
{"environment":"development","level":"error","message":"Failed to initialize database manager: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at ConfigManager.getDatabaseConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:66:17)\n    at initializeSequelize (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:37:36)\n    at initializeDatabaseManager (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:80:5)\n    at StartupChecker.checkDatabase (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:164:33)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:59:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:237:27)","timestamp":"2025-07-27 00:54:50.689","version":"1.0.0"}
{"environment":"development","level":"error","message":"❌ File system check failed: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at StartupChecker.checkFileSystem (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:232:36)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:65:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:237:27)","timestamp":"2025-07-27 00:54:50.946","version":"1.0.0"}
{"environment":"development","level":"error","message":"❌ Configuration validation failed: Configuration validation failed:\n  - Database name (DB_NAME) is required\n  - Database user (DB_USER) is required\n  - Database password (DB_PASSWORD) is required","service":"cattle-management-api","stack":"Error: Configuration validation failed:\n  - Database name (DB_NAME) is required\n  - Database user (DB_USER) is required\n  - Database password (DB_PASSWORD) is required\n    at ConfigManager.initialize (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:31:13)\n    at StartupChecker.checkConfiguration (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:86:27)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:53:16)\n    at startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:237:48)\n    at Object.<anonymous> (D:\\develop\\dameicattle\\backend\\src\\app.ts:380:3)\n    at Module._compile (node:internal/modules/cjs/loader:1730:14)\n    at Module.m._compile (D:\\develop\\dameicattle\\backend\\node_modules\\ts-node\\src\\index.ts:1618:23)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\develop\\dameicattle\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)","timestamp":"2025-07-27 00:54:58.037","version":"1.0.0"}
{"environment":"development","level":"error","message":"❌ Environment check failed: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at StartupChecker.checkEnvironment (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:104:36)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:56:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:237:27)","timestamp":"2025-07-27 00:54:58.044","version":"1.0.0"}
{"environment":"development","level":"error","message":"Failed to initialize database configuration: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at ConfigManager.getDatabaseConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:66:17)\n    at initializeSequelize (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:37:36)\n    at initializeDatabaseManager (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:80:5)\n    at StartupChecker.checkDatabase (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:164:33)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:59:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:237:27)","timestamp":"2025-07-27 00:54:58.048","version":"1.0.0"}
{"environment":"development","level":"error","message":"Failed to initialize database manager: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at ConfigManager.getDatabaseConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:66:17)\n    at initializeSequelize (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:37:36)\n    at initializeDatabaseManager (D:\\develop\\dameicattle\\backend\\src\\config\\database.ts:80:5)\n    at StartupChecker.checkDatabase (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:164:33)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:59:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:237:27)","timestamp":"2025-07-27 00:54:58.050","version":"1.0.0"}
{"environment":"development","level":"error","message":"❌ File system check failed: Configuration not initialized. Call initialize() first.","service":"cattle-management-api","stack":"Error: Configuration not initialized. Call initialize() first.\n    at ConfigManager.getConfig (D:\\develop\\dameicattle\\backend\\src\\config\\ConfigManager.ts:50:13)\n    at StartupChecker.checkFileSystem (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:232:36)\n    at StartupChecker.performStartupChecks (D:\\develop\\dameicattle\\backend\\src\\config\\StartupChecker.ts:65:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:237:27)","timestamp":"2025-07-27 00:54:58.491","version":"1.0.0"}
{"environment":"development","level":"error","message":"日志警报触发: 安全事件警报 - 在1分钟内检测到8次匹配（阈值: 1）","service":"cattle-management-api","timestamp":"2025-07-27 00:58:03.416","version":"1.0.0"}
{"environment":"development","level":"error","message":"疫苗到期提醒检查失败: 关系 \"bases\" 不存在","name":"SequelizeDatabaseError","original":{"code":"42P01","file":"parse_relation.c","length":98,"line":"1452","name":"error","position":"26","routine":"parserOpenTable","severity":"错误","sql":"SELECT \"id\", \"name\" FROM \"bases\" AS \"Base\";"},"parameters":{},"parent":{"code":"42P01","file":"parse_relation.c","length":98,"line":"1452","name":"error","position":"26","routine":"parserOpenTable","severity":"错误","sql":"SELECT \"id\", \"name\" FROM \"bases\" AS \"Base\";"},"service":"cattle-management-api","sql":"SELECT \"id\", \"name\" FROM \"bases\" AS \"Base\";","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at async Function.findAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at async cron.schedule.timezone (D:\\develop\\dameicattle\\backend\\src\\services\\ScheduledTaskService.ts:91:23)\n    at async Timeout._onTimeout (D:\\develop\\dameicattle\\backend\\node_modules\\node-cron\\src\\scheduler\\runner.ts:100:30)","timestamp":"2025-07-27 01:00:00.302","version":"1.0.0"}
{"environment":"development","level":"error","message":"日志警报触发: 安全事件警报 - 在1分钟内检测到8次匹配（阈值: 1）","service":"cattle-management-api","timestamp":"2025-07-27 01:03:45.533","version":"1.0.0"}
{"environment":"development","level":"error","message":"listen EADDRINUSE: address already in use :::3000","name":"Error","service":"cattle-management-api","stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1940:16)\n    at listenInCluster (node:net:1997:12)\n    at Server.listen (node:net:2102:7)\n    at Function.listen (D:\\develop\\dameicattle\\backend\\node_modules\\express\\lib\\application.js:635:24)\n    at startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:389:9)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-27 01:18:30.119","version":"1.0.0"}
{"environment":"development","level":"error","message":"listen EADDRINUSE: address already in use :::3000","name":"Error","service":"cattle-management-api","stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1940:16)\n    at listenInCluster (node:net:1997:12)\n    at Server.listen (node:net:2102:7)\n    at Function.listen (D:\\develop\\dameicattle\\backend\\node_modules\\express\\lib\\application.js:635:24)\n    at startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:389:9)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-27 01:18:30.379","version":"1.0.0"}
{"environment":"development","level":"error","message":"listen EADDRINUSE: address already in use :::3000","name":"Error","service":"cattle-management-api","stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1940:16)\n    at listenInCluster (node:net:1997:12)\n    at Server.listen (node:net:2102:7)\n    at Function.listen (D:\\develop\\dameicattle\\backend\\node_modules\\express\\lib\\application.js:635:24)\n    at startServer (D:\\develop\\dameicattle\\backend\\src\\app.ts:389:9)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-27 01:19:01.712","version":"1.0.0"}
{"environment":"development","level":"error","message":"日志警报触发: 安全事件警报 - 在1分钟内检测到41次匹配（阈值: 1）","service":"cattle-management-api","timestamp":"2025-07-27 01:19:29.523","version":"1.0.0"}
