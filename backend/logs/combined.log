{"level":"info","message":"Starting database migrations...","service":"cattle-management-api","timestamp":"2025-07-18 01:42:30"}
{"level":"error","message":"Migration failed: ���ݿ� \"cattle_management\" ������","name":"SequelizeConnectionError","original":{"code":"3D000","file":"postinit.c","length":96,"line":"1034","name":"error","routine":"InitPostgres","severity":"��������"},"parent":{"code":"3D000","file":"postinit.c","length":96,"line":"1034","name":"error","routine":"InitPostgres","severity":"��������"},"service":"cattle-management-api","stack":"SequelizeConnectionError: ���ݿ� \"cattle_management\" ������\n    at Client._connectionCallback (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\connection-manager.js:196:24)\n    at Client._handleErrorWhileConnecting (D:\\develop\\dameicattle\\backend\\node_modules\\pg\\lib\\client.js:336:19)\n    at Client._handleErrorMessage (D:\\develop\\dameicattle\\backend\\node_modules\\pg\\lib\\client.js:356:19)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\pg\\lib\\connection.js:116:12\n    at Parser.parse (D:\\develop\\dameicattle\\backend\\node_modules\\pg-protocol\\src\\parser.ts:103:9)\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\pg-protocol\\src\\index.ts:7:48)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)","timestamp":"2025-07-18 01:42:30"}
{"level":"info","message":"Starting database migrations...","service":"cattle-management-api","timestamp":"2025-07-18 10:18:53"}
{"level":"info","message":"Database connection established","service":"cattle-management-api","timestamp":"2025-07-18 10:18:54"}
{"level":"info","message":"Found 6 migration files","service":"cattle-management-api","timestamp":"2025-07-18 10:18:54"}
{"level":"info","message":"Executing migration: 001-create-initial-tables.sql","service":"cattle-management-api","timestamp":"2025-07-18 10:18:54"}
{"level":"error","message":"Migration 001-create-initial-tables.sql failed: 关系 \"production_materials\" 的约束 \"fk_materials_supplier\" 已经存在","name":"SequelizeDatabaseError","original":{"code":"42710","file":"tablecmds.c","length":145,"line":"9391","name":"error","routine":"ATExecAddConstraint","severity":"错误","sql":"ALTER TABLE production_materials ADD CONSTRAINT fk_materials_supplier FOREIGN KEY (supplier_id) REFERENCES suppliers(id)"},"parameters":{},"parent":{"code":"42710","file":"tablecmds.c","length":145,"line":"9391","name":"error","routine":"ATExecAddConstraint","severity":"错误","sql":"ALTER TABLE production_materials ADD CONSTRAINT fk_materials_supplier FOREIGN KEY (supplier_id) REFERENCES suppliers(id)"},"service":"cattle-management-api","sql":"ALTER TABLE production_materials ADD CONSTRAINT fk_materials_supplier FOREIGN KEY (supplier_id) REFERENCES suppliers(id)","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async DatabaseMigrator.executeMigration (D:\\develop\\dameicattle\\backend\\src\\utils\\migrate.ts:56:11)\n    at async DatabaseMigrator.runMigrations (D:\\develop\\dameicattle\\backend\\src\\utils\\migrate.ts:31:9)","timestamp":"2025-07-18 10:18:55"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-19 01:25:29"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-19 01:25:30"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-19 01:25:35"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-19 01:25:35"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-19 01:25:35"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-19 01:25:35"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-19 01:25:35"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-19 01:26:48"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-19 01:26:48"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-19 01:26:48"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-19 01:26:48"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-19 01:26:48"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-19 01:26:48"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-19 09:02:02"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-19 09:02:02"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-19 09:02:03"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-19 09:02:03"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-19 09:02:03"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-19 09:02:03"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 11:20:45"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 11:20:45"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 11:20:45"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 11:20:45"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 11:20:45"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 11:20:45"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 11:24:41"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 11:24:41"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 11:24:41"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 11:24:41"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 11:24:41"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 11:24:41"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 11:25:20"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 11:25:20"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 11:25:20"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 11:25:20"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 11:25:20"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 11:25:20"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 12:43:25"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 12:43:25"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 12:43:34"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 12:43:34"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 12:43:34"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 12:43:34"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 12:43:34"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 12:43:34"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 12:43:34"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 12:44:44"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 12:44:44"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 12:44:44"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 12:44:44"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 12:44:44"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 12:44:44"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 12:44:44"}
{"code":"ECONNREFUSED","level":"error","message":"Redis Client Error:","service":"cattle-management-api","stack":"AggregateError: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-07-20 12:44:44"}
{"level":"info","message":"Starting database migrations...","service":"cattle-management-api","timestamp":"2025-07-20 13:28:42"}
{"level":"info","message":"Database connection established","service":"cattle-management-api","timestamp":"2025-07-20 13:28:42"}
{"level":"info","message":"Found 8 migration files","service":"cattle-management-api","timestamp":"2025-07-20 13:28:42"}
{"level":"info","message":"Executing migration: 001-create-initial-tables.sql","service":"cattle-management-api","timestamp":"2025-07-20 13:28:42"}
{"level":"error","message":"Migration 001-create-initial-tables.sql failed: 关系 \"production_materials\" 的约束 \"fk_materials_supplier\" 已经存在","name":"SequelizeDatabaseError","original":{"code":"42710","file":"tablecmds.c","length":145,"line":"9391","name":"error","routine":"ATExecAddConstraint","severity":"错误","sql":"ALTER TABLE production_materials ADD CONSTRAINT fk_materials_supplier FOREIGN KEY (supplier_id) REFERENCES suppliers(id)"},"parameters":{},"parent":{"code":"42710","file":"tablecmds.c","length":145,"line":"9391","name":"error","routine":"ATExecAddConstraint","severity":"错误","sql":"ALTER TABLE production_materials ADD CONSTRAINT fk_materials_supplier FOREIGN KEY (supplier_id) REFERENCES suppliers(id)"},"service":"cattle-management-api","sql":"ALTER TABLE production_materials ADD CONSTRAINT fk_materials_supplier FOREIGN KEY (supplier_id) REFERENCES suppliers(id)","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async DatabaseMigrator.executeMigration (D:\\develop\\dameicattle\\backend\\src\\utils\\migrate.ts:56:11)\n    at async DatabaseMigrator.runMigrations (D:\\develop\\dameicattle\\backend\\src\\utils\\migrate.ts:31:9)","timestamp":"2025-07-20 13:28:42"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 13:30:32"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 13:30:32"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 13:44:59"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 13:44:59"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 16:01:12"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 16:01:12"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 16:01:12"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 16:03:16"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 16:55:00"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 16:55:00"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 16:55:00"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 16:55:00"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 16:55:00"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 16:58:00"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 16:58:00"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 16:58:00"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 16:58:00"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 16:58:00"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 16:58:00"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 19:25:40"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 19:25:40"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 19:25:40"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 19:25:40"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 19:25:40"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 19:25:40"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 19:29:15"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 19:29:15"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 19:29:15"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 19:29:15"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 19:29:15"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-20 19:29:15"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-21 00:14:06"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-21 00:27:02"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-21 23:39:07"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-21 23:39:07"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-21 23:39:07"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-21 23:39:07"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-21 23:39:07"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-21 23:39:07"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-21 23:39:07"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-21 23:39:07"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-21 23:39:07"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-21 23:39:07"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-21 23:39:07"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-21 23:39:07"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:39:07"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:39:07"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:39:07"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:39:07"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:39:07"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:39:07"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:39:07"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:39:07"}
{"level":"info","message":"默认监控规则初始化完成","rulesCount":6,"service":"cattle-management-api","timestamp":"2025-07-21 23:39:07"}
{"level":"info","message":"日志分析服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-21 23:39:07"}
{"level":"info","message":"安全服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-21 23:39:07"}
{"level":"info","message":"Monitoring and security services initialized successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:39:07"}
{"level":"info","message":"每日健康预警检查任务已启动 (每天8:00)","service":"cattle-management-api","timestamp":"2025-07-21 23:39:08"}
{"level":"info","message":"疫苗到期提醒检查任务已启动 (每小时)","service":"cattle-management-api","timestamp":"2025-07-21 23:39:08"}
{"level":"info","message":"每周健康趋势报告任务已启动 (每周一9:00)","service":"cattle-management-api","timestamp":"2025-07-21 23:39:08"}
{"level":"info","message":"所有定时任务已启动","service":"cattle-management-api","timestamp":"2025-07-21 23:39:08"}
{"level":"info","message":"Scheduled tasks started successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:39:08"}
{"level":"info","message":"Server is running on port 3000","service":"cattle-management-api","timestamp":"2025-07-21 23:39:08"}
{"level":"info","message":"Environment: development","service":"cattle-management-api","timestamp":"2025-07-21 23:39:08"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-21 23:40:04"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-21 23:40:04"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-21 23:40:04"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-21 23:40:04"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-21 23:40:04"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-21 23:40:04"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-21 23:40:04"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-21 23:40:04"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-21 23:40:04"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:40:04"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:40:04"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:40:04"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:40:04"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-21 23:40:04"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-21 23:40:05"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-21 23:40:05"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:40:05"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:40:05"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:40:05"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:40:05"}
{"level":"info","message":"默认监控规则初始化完成","rulesCount":6,"service":"cattle-management-api","timestamp":"2025-07-21 23:40:04"}
{"level":"info","message":"日志分析服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-21 23:40:04"}
{"level":"info","message":"安全服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-21 23:40:04"}
{"level":"info","message":"Monitoring and security services initialized successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:40:04"}
{"level":"info","message":"每日健康预警检查任务已启动 (每天8:00)","service":"cattle-management-api","timestamp":"2025-07-21 23:40:05"}
{"level":"info","message":"疫苗到期提醒检查任务已启动 (每小时)","service":"cattle-management-api","timestamp":"2025-07-21 23:40:05"}
{"level":"info","message":"每周健康趋势报告任务已启动 (每周一9:00)","service":"cattle-management-api","timestamp":"2025-07-21 23:40:05"}
{"level":"info","message":"所有定时任务已启动","service":"cattle-management-api","timestamp":"2025-07-21 23:40:05"}
{"level":"info","message":"Scheduled tasks started successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:40:05"}
{"level":"info","message":"Server is running on port 3000","service":"cattle-management-api","timestamp":"2025-07-21 23:40:05"}
{"level":"info","message":"Environment: development","service":"cattle-management-api","timestamp":"2025-07-21 23:40:05"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-21 23:40:17"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-21 23:40:17"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-21 23:40:17"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:40:17"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:40:17"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-21 23:48:27"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-21 23:48:27"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-21 23:48:27"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:48:27"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:48:27"}
{"level":"info","message":"默认监控规则初始化完成","rulesCount":6,"service":"cattle-management-api","timestamp":"2025-07-21 23:48:27"}
{"level":"info","message":"日志分析服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-21 23:48:27"}
{"level":"info","message":"安全服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-21 23:48:27"}
{"level":"info","message":"Monitoring and security services initialized successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:48:27"}
{"level":"info","message":"每日健康预警检查任务已启动 (每天8:00)","service":"cattle-management-api","timestamp":"2025-07-21 23:48:27"}
{"level":"info","message":"疫苗到期提醒检查任务已启动 (每小时)","service":"cattle-management-api","timestamp":"2025-07-21 23:48:27"}
{"level":"info","message":"每周健康趋势报告任务已启动 (每周一9:00)","service":"cattle-management-api","timestamp":"2025-07-21 23:48:27"}
{"level":"info","message":"所有定时任务已启动","service":"cattle-management-api","timestamp":"2025-07-21 23:48:27"}
{"level":"info","message":"Scheduled tasks started successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:48:27"}
{"level":"info","message":"Server is running on port 3000","service":"cattle-management-api","timestamp":"2025-07-21 23:48:27"}
{"level":"info","message":"Environment: development","service":"cattle-management-api","timestamp":"2025-07-21 23:48:27"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-21 23:56:32"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-21 23:56:32"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-21 23:56:32"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:56:32"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-21 23:56:32"}
{"level":"info","message":"开始执行疫苗到期提醒检查","service":"cattle-management-api","timestamp":"2025-07-22 00:00:00"}
{"level":"info","message":"疫苗到期提醒检查完成","service":"cattle-management-api","timestamp":"2025-07-22 00:00:00"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-22 00:07:33"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 00:07:33"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 00:07:33"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-22 00:07:33"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 00:07:33"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 00:07:33"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:07:33"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:07:33"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:07:33"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:07:33"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-22 00:07:33"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 00:07:33"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 00:07:33"}
{"level":"info","message":"默认监控规则初始化完成","rulesCount":6,"service":"cattle-management-api","timestamp":"2025-07-22 00:07:33"}
{"level":"info","message":"日志分析服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 00:07:33"}
{"level":"info","message":"安全服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 00:07:33"}
{"level":"info","message":"Monitoring and security services initialized successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:07:33"}
{"level":"info","message":"每日健康预警检查任务已启动 (每天8:00)","service":"cattle-management-api","timestamp":"2025-07-22 00:07:33"}
{"level":"info","message":"疫苗到期提醒检查任务已启动 (每小时)","service":"cattle-management-api","timestamp":"2025-07-22 00:07:33"}
{"level":"info","message":"每周健康趋势报告任务已启动 (每周一9:00)","service":"cattle-management-api","timestamp":"2025-07-22 00:07:33"}
{"level":"info","message":"所有定时任务已启动","service":"cattle-management-api","timestamp":"2025-07-22 00:07:33"}
{"level":"info","message":"Scheduled tasks started successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:07:33"}
{"level":"info","message":"Server is running on port 3000","service":"cattle-management-api","timestamp":"2025-07-22 00:07:33"}
{"level":"info","message":"Environment: development","service":"cattle-management-api","timestamp":"2025-07-22 00:07:33"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:07:34"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:07:34"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-22 00:07:55"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 00:07:55"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 00:07:55"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:07:55"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:07:55"}
{"level":"info","message":"SIGINT received, shutting down gracefully","service":"cattle-management-api","timestamp":"2025-07-22 00:10:21"}
{"level":"info","message":"定时任务 daily-health-alert-check 已停止","service":"cattle-management-api","timestamp":"2025-07-22 00:10:21"}
{"level":"info","message":"定时任务 hourly-vaccine-reminder-check 已停止","service":"cattle-management-api","timestamp":"2025-07-22 00:10:21"}
{"level":"info","message":"定时任务 weekly-health-report 已停止","service":"cattle-management-api","timestamp":"2025-07-22 00:10:21"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-22 00:11:24"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 00:11:24"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 00:11:24"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-22 00:11:24"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 00:11:24"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 00:11:24"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:11:24"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:11:24"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:11:24"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:11:24"}
{"level":"info","message":"默认监控规则初始化完成","rulesCount":6,"service":"cattle-management-api","timestamp":"2025-07-22 00:11:24"}
{"level":"info","message":"日志分析服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 00:11:24"}
{"level":"info","message":"安全服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 00:11:24"}
{"level":"info","message":"Monitoring and security services initialized successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:11:24"}
{"level":"info","message":"每日健康预警检查任务已启动 (每天8:00)","service":"cattle-management-api","timestamp":"2025-07-22 00:11:25"}
{"level":"info","message":"疫苗到期提醒检查任务已启动 (每小时)","service":"cattle-management-api","timestamp":"2025-07-22 00:11:25"}
{"level":"info","message":"每周健康趋势报告任务已启动 (每周一9:00)","service":"cattle-management-api","timestamp":"2025-07-22 00:11:25"}
{"level":"info","message":"所有定时任务已启动","service":"cattle-management-api","timestamp":"2025-07-22 00:11:25"}
{"level":"info","message":"Scheduled tasks started successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:11:25"}
{"level":"info","message":"Server is running on port 3000","service":"cattle-management-api","timestamp":"2025-07-22 00:11:25"}
{"level":"info","message":"Environment: development","service":"cattle-management-api","timestamp":"2025-07-22 00:11:25"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-22 00:16:11"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 00:16:11"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 00:16:11"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-22 00:16:11"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 00:16:11"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 00:16:11"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:16:11"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:16:11"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:16:11"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:16:11"}
{"level":"info","message":"默认监控规则初始化完成","rulesCount":6,"service":"cattle-management-api","timestamp":"2025-07-22 00:16:11"}
{"level":"info","message":"日志分析服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 00:16:11"}
{"level":"info","message":"安全服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 00:16:11"}
{"level":"info","message":"Monitoring and security services initialized successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:16:11"}
{"level":"info","message":"每日健康预警检查任务已启动 (每天8:00)","service":"cattle-management-api","timestamp":"2025-07-22 00:16:11"}
{"level":"info","message":"疫苗到期提醒检查任务已启动 (每小时)","service":"cattle-management-api","timestamp":"2025-07-22 00:16:11"}
{"level":"info","message":"每周健康趋势报告任务已启动 (每周一9:00)","service":"cattle-management-api","timestamp":"2025-07-22 00:16:11"}
{"level":"info","message":"所有定时任务已启动","service":"cattle-management-api","timestamp":"2025-07-22 00:16:11"}
{"level":"info","message":"Scheduled tasks started successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:16:11"}
{"level":"info","message":"Server is running on port 3000","service":"cattle-management-api","timestamp":"2025-07-22 00:16:11"}
{"level":"info","message":"Environment: development","service":"cattle-management-api","timestamp":"2025-07-22 00:16:11"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 00:20:07"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 00:20:07"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:20:07"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:20:07"}
{"level":"info","message":"默认监控规则初始化完成","rulesCount":6,"service":"cattle-management-api","timestamp":"2025-07-22 00:20:07"}
{"level":"info","message":"日志分析服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 00:20:07"}
{"level":"info","message":"安全服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 00:20:07"}
{"level":"info","message":"Monitoring and security services initialized successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:20:07"}
{"level":"info","message":"每日健康预警检查任务已启动 (每天8:00)","service":"cattle-management-api","timestamp":"2025-07-22 00:20:07"}
{"level":"info","message":"疫苗到期提醒检查任务已启动 (每小时)","service":"cattle-management-api","timestamp":"2025-07-22 00:20:07"}
{"level":"info","message":"每周健康趋势报告任务已启动 (每周一9:00)","service":"cattle-management-api","timestamp":"2025-07-22 00:20:07"}
{"level":"info","message":"所有定时任务已启动","service":"cattle-management-api","timestamp":"2025-07-22 00:20:07"}
{"level":"info","message":"Scheduled tasks started successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:20:07"}
{"level":"info","message":"Server is running on port 3000","service":"cattle-management-api","timestamp":"2025-07-22 00:20:07"}
{"level":"info","message":"Environment: development","service":"cattle-management-api","timestamp":"2025-07-22 00:20:07"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-22 00:39:43"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 00:39:43"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 00:39:43"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:39:43"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 00:39:43"}
{"level":"info","message":"开始执行疫苗到期提醒检查","service":"cattle-management-api","timestamp":"2025-07-22 01:00:00"}
{"level":"info","message":"疫苗到期提醒检查完成","service":"cattle-management-api","timestamp":"2025-07-22 01:00:00"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-22 01:19:28"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 01:19:28"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 01:19:28"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 01:19:28"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 01:19:28"}
{"level":"error","message":"检查过期密码失败: 字段 \"failed_login_attempts\" 不存在","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":118,"line":"3721","name":"error","position":"106","routine":"errorMissingColumn","severity":"错误","sql":"SELECT \"id\", \"username\", \"password_hash\", \"real_name\", \"email\", \"phone\", \"role_id\", \"base_id\", \"status\", \"failed_login_attempts\", \"locked_until\", \"last_login\", \"password_changed_at\", \"password_reset_token\", \"password_reset_expires\", \"wechat_openid\", \"wechat_unionid\", \"created_at\", \"updated_at\" FROM \"users\" AS \"User\" WHERE \"User\".\"password_changed_at\" < '2025-04-23 01:20:07.402 +08:00';"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":118,"line":"3721","name":"error","position":"106","routine":"errorMissingColumn","severity":"错误","sql":"SELECT \"id\", \"username\", \"password_hash\", \"real_name\", \"email\", \"phone\", \"role_id\", \"base_id\", \"status\", \"failed_login_attempts\", \"locked_until\", \"last_login\", \"password_changed_at\", \"password_reset_token\", \"password_reset_expires\", \"wechat_openid\", \"wechat_unionid\", \"created_at\", \"updated_at\" FROM \"users\" AS \"User\" WHERE \"User\".\"password_changed_at\" < '2025-04-23 01:20:07.402 +08:00';"},"service":"cattle-management-api","sql":"SELECT \"id\", \"username\", \"password_hash\", \"real_name\", \"email\", \"phone\", \"role_id\", \"base_id\", \"status\", \"failed_login_attempts\", \"locked_until\", \"last_login\", \"password_changed_at\", \"password_reset_token\", \"password_reset_expires\", \"wechat_openid\", \"wechat_unionid\", \"created_at\", \"updated_at\" FROM \"users\" AS \"User\" WHERE \"User\".\"password_changed_at\" < '2025-04-23 01:20:07.402 +08:00';","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at async Function.findAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at async Function.checkExpiredPasswords (D:\\develop\\dameicattle\\backend\\src\\services\\SecurityService.ts:825:41)\n    at async Function.performSecurityScan (D:\\develop\\dameicattle\\backend\\src\\services\\SecurityService.ts:805:7)\n    at async Timeout._onTimeout (D:\\develop\\dameicattle\\backend\\src\\services\\SecurityService.ts:665:9)","timestamp":"2025-07-22 01:20:07"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-22 01:23:07"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 01:23:07"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 01:23:07"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 01:23:07"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 01:23:07"}
{"level":"info","message":"开始执行疫苗到期提醒检查","service":"cattle-management-api","timestamp":"2025-07-22 02:00:00"}
{"level":"info","message":"疫苗到期提醒检查完成","service":"cattle-management-api","timestamp":"2025-07-22 02:00:00"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-22 16:11:29"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 16:11:29"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 16:11:29"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 16:11:30"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 16:11:30"}
{"level":"info","message":"默认监控规则初始化完成","rulesCount":6,"service":"cattle-management-api","timestamp":"2025-07-22 16:11:30"}
{"level":"info","message":"日志分析服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 16:11:30"}
{"level":"info","message":"安全服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 16:11:30"}
{"level":"info","message":"Monitoring and security services initialized successfully","service":"cattle-management-api","timestamp":"2025-07-22 16:11:30"}
{"level":"info","message":"每日健康预警检查任务已启动 (每天8:00)","service":"cattle-management-api","timestamp":"2025-07-22 16:11:30"}
{"level":"info","message":"疫苗到期提醒检查任务已启动 (每小时)","service":"cattle-management-api","timestamp":"2025-07-22 16:11:30"}
{"level":"info","message":"每周健康趋势报告任务已启动 (每周一9:00)","service":"cattle-management-api","timestamp":"2025-07-22 16:11:30"}
{"level":"info","message":"所有定时任务已启动","service":"cattle-management-api","timestamp":"2025-07-22 16:11:30"}
{"level":"info","message":"Scheduled tasks started successfully","service":"cattle-management-api","timestamp":"2025-07-22 16:11:30"}
{"level":"info","message":"Server is running on port 3000","service":"cattle-management-api","timestamp":"2025-07-22 16:11:30"}
{"level":"info","message":"Environment: development","service":"cattle-management-api","timestamp":"2025-07-22 16:11:30"}
{"ip":"::1","level":"info","message":"POST /api/v1/v1/auth/login","service":"cattle-management-api","timestamp":"2025-07-22 16:50:29","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"info","message":"POST /api/v1/v1/auth/login","service":"cattle-management-api","timestamp":"2025-07-22 16:50:50","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-22 17:08:12"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 17:08:12"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 17:08:12"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 17:08:12"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 17:08:12"}
{"level":"info","message":"默认监控规则初始化完成","rulesCount":6,"service":"cattle-management-api","timestamp":"2025-07-22 17:08:12"}
{"level":"info","message":"日志分析服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 17:08:12"}
{"level":"info","message":"安全服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 17:08:12"}
{"level":"info","message":"Monitoring and security services initialized successfully","service":"cattle-management-api","timestamp":"2025-07-22 17:08:12"}
{"level":"info","message":"每日健康预警检查任务已启动 (每天8:00)","service":"cattle-management-api","timestamp":"2025-07-22 17:08:12"}
{"level":"info","message":"疫苗到期提醒检查任务已启动 (每小时)","service":"cattle-management-api","timestamp":"2025-07-22 17:08:12"}
{"level":"info","message":"每周健康趋势报告任务已启动 (每周一9:00)","service":"cattle-management-api","timestamp":"2025-07-22 17:08:12"}
{"level":"info","message":"所有定时任务已启动","service":"cattle-management-api","timestamp":"2025-07-22 17:08:12"}
{"level":"info","message":"Scheduled tasks started successfully","service":"cattle-management-api","timestamp":"2025-07-22 17:08:12"}
{"level":"info","message":"Server is running on port 3000","service":"cattle-management-api","timestamp":"2025-07-22 17:08:12"}
{"level":"info","message":"Environment: development","service":"cattle-management-api","timestamp":"2025-07-22 17:08:12"}
{"ip":"::1","level":"info","message":"POST /api/v1/v1/auth/login","service":"cattle-management-api","timestamp":"2025-07-22 17:10:01","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"info","message":"POST /api/v1/v1/auth/login","service":"cattle-management-api","timestamp":"2025-07-22 17:11:37","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"info","message":"POST /api/v1/auth/login","service":"cattle-management-api","timestamp":"2025-07-22 17:15:00","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"Error occurred: 字段 User.failed_login_attempts 不存在","method":"POST","service":"cattle-management-api","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at async Function.findAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at async Function.findOne (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1998:12)\n    at async login (D:\\develop\\dameicattle\\backend\\src\\controllers\\AuthController.ts:16:20)","timestamp":"2025-07-22 17:15:01","url":"/api/v1/auth/login","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"info","message":"POST /api/v1/auth/login","service":"cattle-management-api","timestamp":"2025-07-22 17:15:08","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"Error occurred: 字段 User.failed_login_attempts 不存在","method":"POST","service":"cattle-management-api","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at async Function.findAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at async Function.findOne (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1998:12)\n    at async login (D:\\develop\\dameicattle\\backend\\src\\controllers\\AuthController.ts:16:20)","timestamp":"2025-07-22 17:15:08","url":"/api/v1/auth/login","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"info","message":"POST /api/v1/auth/login","service":"cattle-management-api","timestamp":"2025-07-22 17:18:11","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"Error occurred: 字段 User.failed_login_attempts 不存在","method":"POST","service":"cattle-management-api","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at async Function.findAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at async Function.findOne (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1998:12)\n    at async login (D:\\develop\\dameicattle\\backend\\src\\controllers\\AuthController.ts:16:20)","timestamp":"2025-07-22 17:18:11","url":"/api/v1/auth/login","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"info","message":"POST /api/v1/auth/login","service":"cattle-management-api","timestamp":"2025-07-22 17:20:39","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"Error occurred: 字段 User.failed_login_attempts 不存在","method":"POST","service":"cattle-management-api","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at async Function.findAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at async Function.findOne (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1998:12)\n    at async login (D:\\develop\\dameicattle\\backend\\src\\controllers\\AuthController.ts:16:20)","timestamp":"2025-07-22 17:20:39","url":"/api/v1/auth/login","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"info","message":"POST /api/v1/auth/login","service":"cattle-management-api","timestamp":"2025-07-22 17:24:50","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-22 17:24:58"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 17:24:58"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 17:24:58"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 17:24:58"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 17:24:58"}
{"ip":"::1","level":"info","message":"POST /api/v1/auth/login","service":"cattle-management-api","timestamp":"2025-07-22 17:26:16","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"info","message":"POST /api/v1/auth/login","service":"cattle-management-api","timestamp":"2025-07-22 17:27:04","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-22 17:29:15"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 17:29:15"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 17:29:15"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 17:29:15"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 17:29:15"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-22 17:31:46"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 17:31:46"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 17:31:46"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 17:31:46"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 17:31:46"}
{"level":"info","message":"默认监控规则初始化完成","rulesCount":6,"service":"cattle-management-api","timestamp":"2025-07-22 17:31:46"}
{"level":"info","message":"日志分析服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 17:31:46"}
{"level":"info","message":"安全服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 17:31:46"}
{"level":"info","message":"Monitoring and security services initialized successfully","service":"cattle-management-api","timestamp":"2025-07-22 17:31:46"}
{"level":"info","message":"每日健康预警检查任务已启动 (每天8:00)","service":"cattle-management-api","timestamp":"2025-07-22 17:31:46"}
{"level":"info","message":"疫苗到期提醒检查任务已启动 (每小时)","service":"cattle-management-api","timestamp":"2025-07-22 17:31:46"}
{"level":"info","message":"每周健康趋势报告任务已启动 (每周一9:00)","service":"cattle-management-api","timestamp":"2025-07-22 17:31:46"}
{"level":"info","message":"所有定时任务已启动","service":"cattle-management-api","timestamp":"2025-07-22 17:31:46"}
{"level":"info","message":"Scheduled tasks started successfully","service":"cattle-management-api","timestamp":"2025-07-22 17:31:46"}
{"level":"info","message":"Server is running on port 3000","service":"cattle-management-api","timestamp":"2025-07-22 17:31:46"}
{"level":"info","message":"Environment: development","service":"cattle-management-api","timestamp":"2025-07-22 17:31:46"}
{"ip":"::1","level":"info","message":"POST /api/v1/auth/login","service":"cattle-management-api","timestamp":"2025-07-22 17:32:16","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-22 17:35:11"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 17:35:11"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 17:35:11"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 17:35:11"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 17:35:11"}
{"level":"info","message":"默认监控规则初始化完成","rulesCount":6,"service":"cattle-management-api","timestamp":"2025-07-22 17:35:11"}
{"level":"info","message":"日志分析服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 17:35:11"}
{"level":"info","message":"安全服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 17:35:11"}
{"level":"info","message":"Monitoring and security services initialized successfully","service":"cattle-management-api","timestamp":"2025-07-22 17:35:11"}
{"level":"info","message":"每日健康预警检查任务已启动 (每天8:00)","service":"cattle-management-api","timestamp":"2025-07-22 17:35:11"}
{"level":"info","message":"疫苗到期提醒检查任务已启动 (每小时)","service":"cattle-management-api","timestamp":"2025-07-22 17:35:11"}
{"level":"info","message":"每周健康趋势报告任务已启动 (每周一9:00)","service":"cattle-management-api","timestamp":"2025-07-22 17:35:11"}
{"level":"info","message":"所有定时任务已启动","service":"cattle-management-api","timestamp":"2025-07-22 17:35:11"}
{"level":"info","message":"Scheduled tasks started successfully","service":"cattle-management-api","timestamp":"2025-07-22 17:35:11"}
{"level":"info","message":"Server is running on port 3000","service":"cattle-management-api","timestamp":"2025-07-22 17:35:11"}
{"level":"info","message":"Environment: development","service":"cattle-management-api","timestamp":"2025-07-22 17:35:11"}
{"ip":"::1","level":"info","message":"POST /api/v1/auth/login","service":"cattle-management-api","timestamp":"2025-07-22 17:35:23","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"info","message":"POST /api/v1/auth/login","service":"cattle-management-api","timestamp":"2025-07-22 17:36:26","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-22 17:38:38"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 17:38:38"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 17:38:38"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 17:38:38"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 17:38:38"}
{"level":"info","message":"默认监控规则初始化完成","rulesCount":6,"service":"cattle-management-api","timestamp":"2025-07-22 17:38:38"}
{"level":"info","message":"日志分析服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 17:38:38"}
{"level":"info","message":"安全服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 17:38:38"}
{"level":"info","message":"Monitoring and security services initialized successfully","service":"cattle-management-api","timestamp":"2025-07-22 17:38:38"}
{"level":"info","message":"每日健康预警检查任务已启动 (每天8:00)","service":"cattle-management-api","timestamp":"2025-07-22 17:38:38"}
{"level":"info","message":"疫苗到期提醒检查任务已启动 (每小时)","service":"cattle-management-api","timestamp":"2025-07-22 17:38:38"}
{"level":"info","message":"每周健康趋势报告任务已启动 (每周一9:00)","service":"cattle-management-api","timestamp":"2025-07-22 17:38:39"}
{"level":"info","message":"所有定时任务已启动","service":"cattle-management-api","timestamp":"2025-07-22 17:38:39"}
{"level":"info","message":"Scheduled tasks started successfully","service":"cattle-management-api","timestamp":"2025-07-22 17:38:39"}
{"level":"info","message":"Server is running on port 3000","service":"cattle-management-api","timestamp":"2025-07-22 17:38:39"}
{"level":"info","message":"Environment: development","service":"cattle-management-api","timestamp":"2025-07-22 17:38:39"}
{"ip":"::1","level":"info","message":"POST /api/v1/auth/login","service":"cattle-management-api","timestamp":"2025-07-22 17:53:22","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"Error occurred: 字段 User.password_changed_at 不存在","method":"POST","service":"cattle-management-api","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at async Function.findAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at async Function.findOne (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1998:12)\n    at async login (D:\\develop\\dameicattle\\backend\\src\\controllers\\AuthController.ts:16:20)","timestamp":"2025-07-22 17:53:22","url":"/api/v1/auth/login","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"info","message":"POST /api/v1/auth/login","service":"cattle-management-api","timestamp":"2025-07-22 17:53:29","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"Error occurred: 字段 User.password_changed_at 不存在","method":"POST","service":"cattle-management-api","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at async Function.findAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at async Function.findOne (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1998:12)\n    at async login (D:\\develop\\dameicattle\\backend\\src\\controllers\\AuthController.ts:16:20)","timestamp":"2025-07-22 17:53:29","url":"/api/v1/auth/login","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"info","message":"POST /api/v1/auth/login","service":"cattle-management-api","timestamp":"2025-07-22 17:54:14","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"Error occurred: 字段 User.password_changed_at 不存在","method":"POST","service":"cattle-management-api","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at async Function.findAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at async Function.findOne (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1998:12)\n    at async login (D:\\develop\\dameicattle\\backend\\src\\controllers\\AuthController.ts:16:20)","timestamp":"2025-07-22 17:54:14","url":"/api/v1/auth/login","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-22 17:56:21"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 17:56:21"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 17:56:21"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 17:56:21"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 17:56:21"}
{"ip":"::1","level":"info","message":"POST /api/v1/auth/login","service":"cattle-management-api","timestamp":"2025-07-22 17:57:04","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"Error occurred: 字段 User.password_changed_at 不存在","method":"POST","service":"cattle-management-api","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at async Function.findAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at async Function.findOne (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1998:12)\n    at async login (D:\\develop\\dameicattle\\backend\\src\\controllers\\AuthController.ts:16:20)","timestamp":"2025-07-22 17:57:04","url":"/api/v1/auth/login","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"info","message":"开始执行疫苗到期提醒检查","service":"cattle-management-api","timestamp":"2025-07-22 18:00:00"}
{"level":"info","message":"疫苗到期提醒检查完成","service":"cattle-management-api","timestamp":"2025-07-22 18:00:00"}
{"ip":"::1","level":"info","message":"POST /api/v1/auth/login","service":"cattle-management-api","timestamp":"2025-07-22 18:04:43","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"Error occurred: 字段 User.password_changed_at 不存在","method":"POST","service":"cattle-management-api","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at async Function.findAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at async Function.findOne (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1998:12)\n    at async login (D:\\develop\\dameicattle\\backend\\src\\controllers\\AuthController.ts:16:20)","timestamp":"2025-07-22 18:04:43","url":"/api/v1/auth/login","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-22 19:08:55"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 19:08:55"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 19:08:55"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 19:08:55"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 19:08:55"}
{"level":"info","message":"默认监控规则初始化完成","rulesCount":6,"service":"cattle-management-api","timestamp":"2025-07-22 19:08:55"}
{"level":"info","message":"日志分析服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 19:08:55"}
{"level":"info","message":"安全服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 19:08:55"}
{"level":"info","message":"Monitoring and security services initialized successfully","service":"cattle-management-api","timestamp":"2025-07-22 19:08:55"}
{"level":"info","message":"每日健康预警检查任务已启动 (每天8:00)","service":"cattle-management-api","timestamp":"2025-07-22 19:08:55"}
{"level":"info","message":"疫苗到期提醒检查任务已启动 (每小时)","service":"cattle-management-api","timestamp":"2025-07-22 19:08:55"}
{"level":"info","message":"每周健康趋势报告任务已启动 (每周一9:00)","service":"cattle-management-api","timestamp":"2025-07-22 19:08:55"}
{"level":"info","message":"所有定时任务已启动","service":"cattle-management-api","timestamp":"2025-07-22 19:08:55"}
{"level":"info","message":"Scheduled tasks started successfully","service":"cattle-management-api","timestamp":"2025-07-22 19:08:55"}
{"level":"info","message":"Server is running on port 3000","service":"cattle-management-api","timestamp":"2025-07-22 19:08:55"}
{"level":"info","message":"Environment: development","service":"cattle-management-api","timestamp":"2025-07-22 19:08:55"}
{"ip":"::1","level":"info","message":"POST /api/v1/auth/login","service":"cattle-management-api","timestamp":"2025-07-22 19:08:59","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"Error occurred: 字段 User.password_changed_at 不存在","method":"POST","service":"cattle-management-api","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at async Function.findAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at async Function.findOne (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1998:12)\n    at async login (D:\\develop\\dameicattle\\backend\\src\\controllers\\AuthController.ts:16:20)","timestamp":"2025-07-22 19:09:00","url":"/api/v1/auth/login","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"info","message":"POST /api/v1/auth/login","service":"cattle-management-api","timestamp":"2025-07-22 19:09:24","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"Error occurred: 字段 User.password_changed_at 不存在","method":"POST","service":"cattle-management-api","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at async Function.findAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at async Function.findOne (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1998:12)\n    at async login (D:\\develop\\dameicattle\\backend\\src\\controllers\\AuthController.ts:16:20)","timestamp":"2025-07-22 19:09:24","url":"/api/v1/auth/login","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"info","message":"Starting database migrations...","service":"cattle-management-api","timestamp":"2025-07-22 19:10:19"}
{"level":"info","message":"Database connection established","service":"cattle-management-api","timestamp":"2025-07-22 19:10:19"}
{"level":"info","message":"Found 9 migration files","service":"cattle-management-api","timestamp":"2025-07-22 19:10:19"}
{"level":"info","message":"Executing migration: 001-create-initial-tables.sql","service":"cattle-management-api","timestamp":"2025-07-22 19:10:19"}
{"level":"error","message":"Migration 001-create-initial-tables.sql failed: 关系 \"production_materials\" 的约束 \"fk_materials_supplier\" 已经存在","name":"SequelizeDatabaseError","original":{"code":"42710","file":"tablecmds.c","length":145,"line":"9391","name":"error","routine":"ATExecAddConstraint","severity":"错误","sql":"ALTER TABLE production_materials ADD CONSTRAINT fk_materials_supplier FOREIGN KEY (supplier_id) REFERENCES suppliers(id)"},"parameters":{},"parent":{"code":"42710","file":"tablecmds.c","length":145,"line":"9391","name":"error","routine":"ATExecAddConstraint","severity":"错误","sql":"ALTER TABLE production_materials ADD CONSTRAINT fk_materials_supplier FOREIGN KEY (supplier_id) REFERENCES suppliers(id)"},"service":"cattle-management-api","sql":"ALTER TABLE production_materials ADD CONSTRAINT fk_materials_supplier FOREIGN KEY (supplier_id) REFERENCES suppliers(id)","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async DatabaseMigrator.executeMigration (D:\\develop\\dameicattle\\backend\\src\\utils\\migrate.ts:56:11)\n    at async DatabaseMigrator.runMigrations (D:\\develop\\dameicattle\\backend\\src\\utils\\migrate.ts:31:9)","timestamp":"2025-07-22 19:10:19"}
{"ip":"::1","level":"info","message":"POST /api/v1/auth/login","service":"cattle-management-api","timestamp":"2025-07-22 19:13:31","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"info","message":"User admin logged in successfully","service":"cattle-management-api","timestamp":"2025-07-22 19:13:32","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","userId":1}
{"ip":"::1","level":"info","message":"GET /api/v1/dashboard/indicators","service":"cattle-management-api","timestamp":"2025-07-22 19:13:40","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"error","message":"Error getting key indicators: 字段 Cattle.status 不存在","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":108,"line":"3721","name":"error","position":"107","routine":"errorMissingColumn","severity":"错误","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":108,"line":"3721","name":"error","position":"107","routine":"errorMissingColumn","severity":"错误","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";"},"service":"cattle-management-api","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at async Function.findAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at async getKeyIndicators (D:\\develop\\dameicattle\\backend\\src\\controllers\\DashboardController.ts:40:27)","timestamp":"2025-07-22 19:13:40"}
{"ip":"::1","level":"info","message":"GET /api/v1/dashboard/indicators","service":"cattle-management-api","timestamp":"2025-07-22 19:14:04","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"error","message":"Error getting key indicators: 字段 Cattle.status 不存在","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":108,"line":"3721","name":"error","position":"107","routine":"errorMissingColumn","severity":"错误","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":108,"line":"3721","name":"error","position":"107","routine":"errorMissingColumn","severity":"错误","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";"},"service":"cattle-management-api","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at async Function.findAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at async getKeyIndicators (D:\\develop\\dameicattle\\backend\\src\\controllers\\DashboardController.ts:40:27)","timestamp":"2025-07-22 19:14:04"}
{"ip":"::1","level":"info","message":"GET /api/v1/cattle","service":"cattle-management-api","timestamp":"2025-07-22 19:14:16","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"info","message":"GET /api/v1/bases","service":"cattle-management-api","timestamp":"2025-07-22 19:14:16","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"error","message":"Error fetching cattle list: 字段 Cattle.parent_male_id 不存在","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":116,"line":"3721","name":"error","position":"246","routine":"errorMissingColumn","severity":"错误","sql":"SELECT count(\"Cattle\".\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" LEFT OUTER JOIN \"bases\" AS \"base\" ON \"Cattle\".\"base_id\" = \"base\".\"id\" LEFT OUTER JOIN \"barns\" AS \"barn\" ON \"Cattle\".\"barn_id\" = \"barn\".\"id\" LEFT OUTER JOIN \"cattle\" AS \"father\" ON \"Cattle\".\"parent_male_id\" = \"father\".\"id\" LEFT OUTER JOIN \"cattle\" AS \"mother\" ON \"Cattle\".\"parent_female_id\" = \"mother\".\"id\" WHERE \"Cattle\".\"status\" = 'active' AND \"Cattle\".\"base_id\" = 1;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":116,"line":"3721","name":"error","position":"246","routine":"errorMissingColumn","severity":"错误","sql":"SELECT count(\"Cattle\".\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" LEFT OUTER JOIN \"bases\" AS \"base\" ON \"Cattle\".\"base_id\" = \"base\".\"id\" LEFT OUTER JOIN \"barns\" AS \"barn\" ON \"Cattle\".\"barn_id\" = \"barn\".\"id\" LEFT OUTER JOIN \"cattle\" AS \"father\" ON \"Cattle\".\"parent_male_id\" = \"father\".\"id\" LEFT OUTER JOIN \"cattle\" AS \"mother\" ON \"Cattle\".\"parent_female_id\" = \"mother\".\"id\" WHERE \"Cattle\".\"status\" = 'active' AND \"Cattle\".\"base_id\" = 1;"},"service":"cattle-management-api","sql":"SELECT count(\"Cattle\".\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" LEFT OUTER JOIN \"bases\" AS \"base\" ON \"Cattle\".\"base_id\" = \"base\".\"id\" LEFT OUTER JOIN \"barns\" AS \"barn\" ON \"Cattle\".\"barn_id\" = \"barn\".\"id\" LEFT OUTER JOIN \"cattle\" AS \"father\" ON \"Cattle\".\"parent_male_id\" = \"father\".\"id\" LEFT OUTER JOIN \"cattle\" AS \"mother\" ON \"Cattle\".\"parent_female_id\" = \"mother\".\"id\" WHERE \"Cattle\".\"status\" = 'active' AND \"Cattle\".\"base_id\" = 1;","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.rawSelect (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1043:18)\n    at async Function.aggregate (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:2067:19)\n    at async Function.count (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:2124:20)\n    at async Promise.all (index 0)\n    at async Function.findAndCountAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:2183:27)\n    at async getCattleList (D:\\develop\\dameicattle\\backend\\src\\controllers\\CattleController.ts:61:31)","timestamp":"2025-07-22 19:14:16"}
{"ip":"::1","level":"info","message":"GET /api/v1/dashboard/indicators","service":"cattle-management-api","timestamp":"2025-07-22 19:14:50","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"error","message":"Error getting key indicators: 字段 Cattle.status 不存在","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":108,"line":"3721","name":"error","position":"107","routine":"errorMissingColumn","severity":"错误","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":108,"line":"3721","name":"error","position":"107","routine":"errorMissingColumn","severity":"错误","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";"},"service":"cattle-management-api","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at async Function.findAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at async getKeyIndicators (D:\\develop\\dameicattle\\backend\\src\\controllers\\DashboardController.ts:40:27)","timestamp":"2025-07-22 19:14:50"}
{"ip":"::1","level":"info","message":"GET /api/v1/health/vaccinations","service":"cattle-management-api","timestamp":"2025-07-22 19:14:55","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"warn","message":"Permission denied:","requiredPermissions":["health:read"],"service":"cattle-management-api","timestamp":"2025-07-22 19:14:55","userId":1,"userPermissions":[]}
{"ip":"::1","level":"info","message":"GET /api/v1/dashboard/indicators","service":"cattle-management-api","timestamp":"2025-07-22 19:15:14","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"error","message":"Error getting key indicators: 字段 Cattle.status 不存在","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":108,"line":"3721","name":"error","position":"107","routine":"errorMissingColumn","severity":"错误","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":108,"line":"3721","name":"error","position":"107","routine":"errorMissingColumn","severity":"错误","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";"},"service":"cattle-management-api","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at async Function.findAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at async getKeyIndicators (D:\\develop\\dameicattle\\backend\\src\\controllers\\DashboardController.ts:40:27)","timestamp":"2025-07-22 19:15:14"}
{"ip":"::1","level":"info","message":"GET /api/v1/bases","service":"cattle-management-api","timestamp":"2025-07-22 19:15:18","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"info","message":"GET /api/v1/barns","service":"cattle-management-api","timestamp":"2025-07-22 19:15:23","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"info","message":"GET /api/v1/bases","service":"cattle-management-api","timestamp":"2025-07-22 19:15:23","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"info","message":"GET /api/v1/feeding/formulas","service":"cattle-management-api","timestamp":"2025-07-22 19:15:23","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"details":{"error_count":10,"error_rate":90.9090909090909,"time_window":"5分钟","total_requests":11},"level":"warn","message":"性能警报 高错误率检测: 90.9%","service":"cattle-management-api","severity":"critical","timestamp":"2025-07-22 19:15:23","type":"high_error_rate"}
{"details":{"error_count":10,"error_rate":90.9090909090909,"time_window":"5分钟","total_requests":11},"level":"error","message":"关键性能警报 高错误率检测: 90.9%","service":"cattle-management-api","timestamp":"2025-07-22 19:15:23","type":"high_error_rate"}
{"level":"warn","message":"Permission denied:","requiredPermissions":["feeding:read"],"service":"cattle-management-api","timestamp":"2025-07-22 19:15:23","userId":1,"userPermissions":[]}
{"details":{"error_count":11,"error_rate":91.66666666666666,"time_window":"5分钟","total_requests":12},"level":"warn","message":"性能警报 高错误率检测: 91.7%","service":"cattle-management-api","severity":"critical","timestamp":"2025-07-22 19:15:23","type":"high_error_rate"}
{"details":{"error_count":11,"error_rate":91.66666666666666,"time_window":"5分钟","total_requests":12},"level":"error","message":"关键性能警报 高错误率检测: 91.7%","service":"cattle-management-api","timestamp":"2025-07-22 19:15:23","type":"high_error_rate"}
{"ip":"::1","level":"info","message":"GET /api/v1/dashboard/indicators","service":"cattle-management-api","timestamp":"2025-07-22 19:15:36","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"error","message":"Error getting key indicators: 字段 Cattle.status 不存在","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":108,"line":"3721","name":"error","position":"107","routine":"errorMissingColumn","severity":"错误","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":108,"line":"3721","name":"error","position":"107","routine":"errorMissingColumn","severity":"错误","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";"},"service":"cattle-management-api","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at async Function.findAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at async getKeyIndicators (D:\\develop\\dameicattle\\backend\\src\\controllers\\DashboardController.ts:40:27)","timestamp":"2025-07-22 19:15:36"}
{"details":{"error_count":12,"error_rate":92.3076923076923,"time_window":"5分钟","total_requests":13},"level":"warn","message":"性能警报 高错误率检测: 92.3%","service":"cattle-management-api","severity":"critical","timestamp":"2025-07-22 19:15:36","type":"high_error_rate"}
{"details":{"error_count":12,"error_rate":92.3076923076923,"time_window":"5分钟","total_requests":13},"level":"error","message":"关键性能警报 高错误率检测: 92.3%","service":"cattle-management-api","timestamp":"2025-07-22 19:15:37","type":"high_error_rate"}
{"ip":"::1","level":"info","message":"GET /api/v1/bases","service":"cattle-management-api","timestamp":"2025-07-22 19:15:45","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"details":{"error_count":13,"error_rate":92.85714285714286,"time_window":"5分钟","total_requests":14},"level":"warn","message":"性能警报 高错误率检测: 92.9%","service":"cattle-management-api","severity":"critical","timestamp":"2025-07-22 19:15:45","type":"high_error_rate"}
{"details":{"error_count":13,"error_rate":92.85714285714286,"time_window":"5分钟","total_requests":14},"level":"error","message":"关键性能警报 高错误率检测: 92.9%","service":"cattle-management-api","timestamp":"2025-07-22 19:15:45","type":"high_error_rate"}
{"ip":"::1","level":"info","message":"GET /api/v1/bases","service":"cattle-management-api","timestamp":"2025-07-22 19:15:57","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"details":{"error_count":14,"error_rate":93.33333333333333,"time_window":"5分钟","total_requests":15},"level":"warn","message":"性能警报 高错误率检测: 93.3%","service":"cattle-management-api","severity":"critical","timestamp":"2025-07-22 19:15:57","type":"high_error_rate"}
{"details":{"error_count":14,"error_rate":93.33333333333333,"time_window":"5分钟","total_requests":15},"level":"error","message":"关键性能警报 高错误率检测: 93.3%","service":"cattle-management-api","timestamp":"2025-07-22 19:15:57","type":"high_error_rate"}
{"ip":"::1","level":"info","message":"GET /api/v1/bases","service":"cattle-management-api","timestamp":"2025-07-22 19:16:02","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"details":{"error_count":15,"error_rate":93.75,"time_window":"5分钟","total_requests":16},"level":"warn","message":"性能警报 高错误率检测: 93.8%","service":"cattle-management-api","severity":"critical","timestamp":"2025-07-22 19:16:02","type":"high_error_rate"}
{"details":{"error_count":15,"error_rate":93.75,"time_window":"5分钟","total_requests":16},"level":"error","message":"关键性能警报 高错误率检测: 93.8%","service":"cattle-management-api","timestamp":"2025-07-22 19:16:02","type":"high_error_rate"}
{"ip":"::1","level":"info","message":"GET /api/v1/bases","service":"cattle-management-api","timestamp":"2025-07-22 19:16:08","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"details":{"error_count":16,"error_rate":94.11764705882352,"time_window":"5分钟","total_requests":17},"level":"warn","message":"性能警报 高错误率检测: 94.1%","service":"cattle-management-api","severity":"critical","timestamp":"2025-07-22 19:16:08","type":"high_error_rate"}
{"details":{"error_count":16,"error_rate":94.11764705882352,"time_window":"5分钟","total_requests":17},"level":"error","message":"关键性能警报 高错误率检测: 94.1%","service":"cattle-management-api","timestamp":"2025-07-22 19:16:08","type":"high_error_rate"}
{"ip":"::1","level":"info","message":"GET /api/v1/bases","service":"cattle-management-api","timestamp":"2025-07-22 19:16:12","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"details":{"error_count":17,"error_rate":94.44444444444444,"time_window":"5分钟","total_requests":18},"level":"warn","message":"性能警报 高错误率检测: 94.4%","service":"cattle-management-api","severity":"critical","timestamp":"2025-07-22 19:16:12","type":"high_error_rate"}
{"details":{"error_count":17,"error_rate":94.44444444444444,"time_window":"5分钟","total_requests":18},"level":"error","message":"关键性能警报 高错误率检测: 94.4%","service":"cattle-management-api","timestamp":"2025-07-22 19:16:12","type":"high_error_rate"}
{"ip":"::1","level":"info","message":"GET /api/v1/bases","service":"cattle-management-api","timestamp":"2025-07-22 19:16:16","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"details":{"error_count":18,"error_rate":94.73684210526315,"time_window":"5分钟","total_requests":19},"level":"warn","message":"性能警报 高错误率检测: 94.7%","service":"cattle-management-api","severity":"critical","timestamp":"2025-07-22 19:16:16","type":"high_error_rate"}
{"details":{"error_count":18,"error_rate":94.73684210526315,"time_window":"5分钟","total_requests":19},"level":"error","message":"关键性能警报 高错误率检测: 94.7%","service":"cattle-management-api","timestamp":"2025-07-22 19:16:16","type":"high_error_rate"}
{"ip":"::1","level":"info","message":"GET /api/v1/bases","service":"cattle-management-api","timestamp":"2025-07-22 19:16:20","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"details":{"error_count":19,"error_rate":95,"time_window":"5分钟","total_requests":20},"level":"warn","message":"性能警报 高错误率检测: 95.0%","service":"cattle-management-api","severity":"critical","timestamp":"2025-07-22 19:16:20","type":"high_error_rate"}
{"details":{"error_count":19,"error_rate":95,"time_window":"5分钟","total_requests":20},"level":"error","message":"关键性能警报 高错误率检测: 95.0%","service":"cattle-management-api","timestamp":"2025-07-22 19:16:20","type":"high_error_rate"}
{"ip":"::1","level":"info","message":"GET /api/v1/bases","service":"cattle-management-api","timestamp":"2025-07-22 19:16:25","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"details":{"error_count":20,"error_rate":95.23809523809523,"time_window":"5分钟","total_requests":21},"level":"warn","message":"性能警报 高错误率检测: 95.2%","service":"cattle-management-api","severity":"critical","timestamp":"2025-07-22 19:16:25","type":"high_error_rate"}
{"details":{"error_count":20,"error_rate":95.23809523809523,"time_window":"5分钟","total_requests":21},"level":"error","message":"关键性能警报 高错误率检测: 95.2%","service":"cattle-management-api","timestamp":"2025-07-22 19:16:25","type":"high_error_rate"}
{"ip":"::1","level":"info","message":"GET /api/v1/bases","service":"cattle-management-api","timestamp":"2025-07-22 19:16:29","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"details":{"error_count":21,"error_rate":95.45454545454545,"time_window":"5分钟","total_requests":22},"level":"warn","message":"性能警报 高错误率检测: 95.5%","service":"cattle-management-api","severity":"critical","timestamp":"2025-07-22 19:16:29","type":"high_error_rate"}
{"details":{"error_count":21,"error_rate":95.45454545454545,"time_window":"5分钟","total_requests":22},"level":"error","message":"关键性能警报 高错误率检测: 95.5%","service":"cattle-management-api","timestamp":"2025-07-22 19:16:29","type":"high_error_rate"}
{"ip":"::1","level":"info","message":"GET /api/v1/bases","service":"cattle-management-api","timestamp":"2025-07-22 19:16:33","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"details":{"error_count":22,"error_rate":95.65217391304348,"time_window":"5分钟","total_requests":23},"level":"warn","message":"性能警报 高错误率检测: 95.7%","service":"cattle-management-api","severity":"critical","timestamp":"2025-07-22 19:16:33","type":"high_error_rate"}
{"details":{"error_count":22,"error_rate":95.65217391304348,"time_window":"5分钟","total_requests":23},"level":"error","message":"关键性能警报 高错误率检测: 95.7%","service":"cattle-management-api","timestamp":"2025-07-22 19:16:33","type":"high_error_rate"}
{"ip":"::1","level":"info","message":"GET /api/v1/bases","service":"cattle-management-api","timestamp":"2025-07-22 19:17:36","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"details":{"error_count":23,"error_rate":95.83333333333334,"time_window":"5分钟","total_requests":24},"level":"warn","message":"性能警报 高错误率检测: 95.8%","service":"cattle-management-api","severity":"critical","timestamp":"2025-07-22 19:17:36","type":"high_error_rate"}
{"details":{"error_count":23,"error_rate":95.83333333333334,"time_window":"5分钟","total_requests":24},"level":"error","message":"关键性能警报 高错误率检测: 95.8%","service":"cattle-management-api","timestamp":"2025-07-22 19:17:36","type":"high_error_rate"}
{"ip":"::1","level":"info","message":"GET /api/v1/bases","service":"cattle-management-api","timestamp":"2025-07-22 19:17:40","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"details":{"error_count":24,"error_rate":96,"time_window":"5分钟","total_requests":25},"level":"warn","message":"性能警报 高错误率检测: 96.0%","service":"cattle-management-api","severity":"critical","timestamp":"2025-07-22 19:17:40","type":"high_error_rate"}
{"details":{"error_count":24,"error_rate":96,"time_window":"5分钟","total_requests":25},"level":"error","message":"关键性能警报 高错误率检测: 96.0%","service":"cattle-management-api","timestamp":"2025-07-22 19:17:40","type":"high_error_rate"}
{"ip":"::1","level":"info","message":"GET /api/v1/bases","service":"cattle-management-api","timestamp":"2025-07-22 19:17:44","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"details":{"error_count":25,"error_rate":96.15384615384616,"time_window":"5分钟","total_requests":26},"level":"warn","message":"性能警报 高错误率检测: 96.2%","service":"cattle-management-api","severity":"critical","timestamp":"2025-07-22 19:17:44","type":"high_error_rate"}
{"details":{"error_count":25,"error_rate":96.15384615384616,"time_window":"5分钟","total_requests":26},"level":"error","message":"关键性能警报 高错误率检测: 96.2%","service":"cattle-management-api","timestamp":"2025-07-22 19:17:44","type":"high_error_rate"}
{"ip":"::1","level":"info","message":"GET /api/v1/dashboard/indicators","service":"cattle-management-api","timestamp":"2025-07-22 19:19:10","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"error","message":"Error getting key indicators: 字段 Cattle.status 不存在","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":108,"line":"3721","name":"error","position":"107","routine":"errorMissingColumn","severity":"错误","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":108,"line":"3721","name":"error","position":"107","routine":"errorMissingColumn","severity":"错误","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";"},"service":"cattle-management-api","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at async Function.findAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at async getKeyIndicators (D:\\develop\\dameicattle\\backend\\src\\controllers\\DashboardController.ts:40:27)","timestamp":"2025-07-22 19:19:10"}
{"details":{"error_count":24,"error_rate":100,"time_window":"5分钟","total_requests":24},"level":"warn","message":"性能警报 高错误率检测: 100.0%","service":"cattle-management-api","severity":"critical","timestamp":"2025-07-22 19:19:10","type":"high_error_rate"}
{"details":{"error_count":24,"error_rate":100,"time_window":"5分钟","total_requests":24},"level":"error","message":"关键性能警报 高错误率检测: 100.0%","service":"cattle-management-api","timestamp":"2025-07-22 19:19:10","type":"high_error_rate"}
{"ip":"::1","level":"info","message":"GET /api/v1/roles","service":"cattle-management-api","timestamp":"2025-07-22 19:19:21","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"details":{"error_count":23,"error_rate":100,"time_window":"5分钟","total_requests":23},"level":"warn","message":"性能警报 高错误率检测: 100.0%","service":"cattle-management-api","severity":"critical","timestamp":"2025-07-22 19:19:21","type":"high_error_rate"}
{"details":{"error_count":23,"error_rate":100,"time_window":"5分钟","total_requests":23},"level":"error","message":"关键性能警报 高错误率检测: 100.0%","service":"cattle-management-api","timestamp":"2025-07-22 19:19:21","type":"high_error_rate"}
{"ip":"::1","level":"info","message":"GET /api/v1/dashboard/indicators","service":"cattle-management-api","timestamp":"2025-07-22 19:19:27","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"error","message":"Error getting key indicators: 字段 Cattle.status 不存在","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":108,"line":"3721","name":"error","position":"107","routine":"errorMissingColumn","severity":"错误","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":108,"line":"3721","name":"error","position":"107","routine":"errorMissingColumn","severity":"错误","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";"},"service":"cattle-management-api","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at async Function.findAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at async getKeyIndicators (D:\\develop\\dameicattle\\backend\\src\\controllers\\DashboardController.ts:40:27)","timestamp":"2025-07-22 19:19:27"}
{"details":{"error_count":24,"error_rate":100,"time_window":"5分钟","total_requests":24},"level":"warn","message":"性能警报 高错误率检测: 100.0%","service":"cattle-management-api","severity":"critical","timestamp":"2025-07-22 19:19:27","type":"high_error_rate"}
{"details":{"error_count":24,"error_rate":100,"time_window":"5分钟","total_requests":24},"level":"error","message":"关键性能警报 高错误率检测: 100.0%","service":"cattle-management-api","timestamp":"2025-07-22 19:19:27","type":"high_error_rate"}
{"ip":"::1","level":"info","message":"GET /api/v1/dashboard/indicators","service":"cattle-management-api","timestamp":"2025-07-22 19:21:44","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"error","message":"Error getting key indicators: 字段 Cattle.status 不存在","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":108,"line":"3721","name":"error","position":"107","routine":"errorMissingColumn","severity":"错误","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":108,"line":"3721","name":"error","position":"107","routine":"errorMissingColumn","severity":"错误","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";"},"service":"cattle-management-api","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at async Function.findAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at async getKeyIndicators (D:\\develop\\dameicattle\\backend\\src\\controllers\\DashboardController.ts:40:27)","timestamp":"2025-07-22 19:21:44"}
{"ip":"::1","level":"info","message":"GET /api/v1/dashboard/indicators","service":"cattle-management-api","timestamp":"2025-07-22 19:22:05","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"error","message":"Error getting key indicators: 字段 Cattle.status 不存在","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":108,"line":"3721","name":"error","position":"107","routine":"errorMissingColumn","severity":"错误","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":108,"line":"3721","name":"error","position":"107","routine":"errorMissingColumn","severity":"错误","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";"},"service":"cattle-management-api","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at async Function.findAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at async getKeyIndicators (D:\\develop\\dameicattle\\backend\\src\\controllers\\DashboardController.ts:40:27)","timestamp":"2025-07-22 19:22:05"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-22 19:22:39"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 19:22:39"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 19:22:39"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 19:22:39"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 19:22:39"}
{"level":"info","message":"默认监控规则初始化完成","rulesCount":6,"service":"cattle-management-api","timestamp":"2025-07-22 19:22:39"}
{"level":"info","message":"日志分析服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 19:22:39"}
{"level":"info","message":"安全服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 19:22:39"}
{"level":"info","message":"Monitoring and security services initialized successfully","service":"cattle-management-api","timestamp":"2025-07-22 19:22:39"}
{"level":"info","message":"每日健康预警检查任务已启动 (每天8:00)","service":"cattle-management-api","timestamp":"2025-07-22 19:22:39"}
{"level":"info","message":"疫苗到期提醒检查任务已启动 (每小时)","service":"cattle-management-api","timestamp":"2025-07-22 19:22:39"}
{"level":"info","message":"每周健康趋势报告任务已启动 (每周一9:00)","service":"cattle-management-api","timestamp":"2025-07-22 19:22:39"}
{"level":"info","message":"所有定时任务已启动","service":"cattle-management-api","timestamp":"2025-07-22 19:22:39"}
{"level":"info","message":"Scheduled tasks started successfully","service":"cattle-management-api","timestamp":"2025-07-22 19:22:39"}
{"level":"info","message":"Server is running on port 3000","service":"cattle-management-api","timestamp":"2025-07-22 19:22:39"}
{"level":"info","message":"Environment: development","service":"cattle-management-api","timestamp":"2025-07-22 19:22:39"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-22 19:23:07"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 19:23:07"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 19:23:07"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 19:23:07"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 19:23:07"}
{"level":"info","message":"默认监控规则初始化完成","rulesCount":6,"service":"cattle-management-api","timestamp":"2025-07-22 19:23:07"}
{"level":"info","message":"日志分析服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 19:23:07"}
{"level":"info","message":"安全服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 19:23:07"}
{"level":"info","message":"Monitoring and security services initialized successfully","service":"cattle-management-api","timestamp":"2025-07-22 19:23:07"}
{"level":"info","message":"每日健康预警检查任务已启动 (每天8:00)","service":"cattle-management-api","timestamp":"2025-07-22 19:23:07"}
{"level":"info","message":"疫苗到期提醒检查任务已启动 (每小时)","service":"cattle-management-api","timestamp":"2025-07-22 19:23:07"}
{"level":"info","message":"每周健康趋势报告任务已启动 (每周一9:00)","service":"cattle-management-api","timestamp":"2025-07-22 19:23:07"}
{"level":"info","message":"所有定时任务已启动","service":"cattle-management-api","timestamp":"2025-07-22 19:23:07"}
{"level":"info","message":"Scheduled tasks started successfully","service":"cattle-management-api","timestamp":"2025-07-22 19:23:07"}
{"level":"info","message":"Server is running on port 3000","service":"cattle-management-api","timestamp":"2025-07-22 19:23:07"}
{"level":"info","message":"Environment: development","service":"cattle-management-api","timestamp":"2025-07-22 19:23:07"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-22 19:23:20"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 19:23:20"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 19:23:20"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 19:23:21"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 19:23:21"}
{"ip":"::1","level":"info","message":"GET /api/v1/dashboard/indicators","service":"cattle-management-api","timestamp":"2025-07-22 19:24:13","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"error","message":"Error getting key indicators: 字段 Cattle.status 不存在","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":108,"line":"3721","name":"error","position":"107","routine":"errorMissingColumn","severity":"错误","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":108,"line":"3721","name":"error","position":"107","routine":"errorMissingColumn","severity":"错误","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";"},"service":"cattle-management-api","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at async Function.findAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at async getKeyIndicators (D:\\develop\\dameicattle\\backend\\src\\controllers\\DashboardController.ts:40:27)","timestamp":"2025-07-22 19:24:13"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-22 19:33:22"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 19:33:22"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 19:33:22"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 19:33:22"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 19:33:22"}
{"level":"info","message":"默认监控规则初始化完成","rulesCount":6,"service":"cattle-management-api","timestamp":"2025-07-22 19:33:22"}
{"level":"info","message":"日志分析服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 19:33:22"}
{"level":"info","message":"安全服务初始化完成","service":"cattle-management-api","timestamp":"2025-07-22 19:33:22"}
{"level":"info","message":"Monitoring and security services initialized successfully","service":"cattle-management-api","timestamp":"2025-07-22 19:33:22"}
{"level":"info","message":"每日健康预警检查任务已启动 (每天8:00)","service":"cattle-management-api","timestamp":"2025-07-22 19:33:22"}
{"level":"info","message":"疫苗到期提醒检查任务已启动 (每小时)","service":"cattle-management-api","timestamp":"2025-07-22 19:33:22"}
{"level":"info","message":"每周健康趋势报告任务已启动 (每周一9:00)","service":"cattle-management-api","timestamp":"2025-07-22 19:33:22"}
{"level":"info","message":"所有定时任务已启动","service":"cattle-management-api","timestamp":"2025-07-22 19:33:22"}
{"level":"info","message":"Scheduled tasks started successfully","service":"cattle-management-api","timestamp":"2025-07-22 19:33:22"}
{"level":"info","message":"Server is running on port 3000","service":"cattle-management-api","timestamp":"2025-07-22 19:33:22"}
{"level":"info","message":"Environment: development","service":"cattle-management-api","timestamp":"2025-07-22 19:33:22"}
{"ip":"::1","level":"info","message":"POST /api/v1/auth/login","service":"cattle-management-api","timestamp":"2025-07-22 19:33:27","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"info","message":"User admin logged in successfully","service":"cattle-management-api","timestamp":"2025-07-22 19:33:28","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","userId":1}
{"ip":"::1","level":"info","message":"GET /api/v1/dashboard/indicators","service":"cattle-management-api","timestamp":"2025-07-22 19:33:30","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"error","message":"Error getting key indicators: 字段 Cattle.status 不存在","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":108,"line":"3721","name":"error","position":"107","routine":"errorMissingColumn","severity":"错误","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":108,"line":"3721","name":"error","position":"107","routine":"errorMissingColumn","severity":"错误","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";"},"service":"cattle-management-api","sql":"SELECT \"health_status\", COUNT(\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" WHERE \"Cattle\".\"base_id\" = 1 AND \"Cattle\".\"status\" = 'active' GROUP BY \"health_status\";","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at async Function.findAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at async getKeyIndicators (D:\\develop\\dameicattle\\backend\\src\\controllers\\DashboardController.ts:40:27)","timestamp":"2025-07-22 19:33:30"}
{"ip":"::1","level":"info","message":"GET /api/v1/cattle","service":"cattle-management-api","timestamp":"2025-07-22 19:33:34","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"info","message":"GET /api/v1/bases","service":"cattle-management-api","timestamp":"2025-07-22 19:33:34","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"error","message":"Error fetching cattle list: 字段 Cattle.parent_male_id 不存在","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":116,"line":"3721","name":"error","position":"246","routine":"errorMissingColumn","severity":"错误","sql":"SELECT count(\"Cattle\".\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" LEFT OUTER JOIN \"bases\" AS \"base\" ON \"Cattle\".\"base_id\" = \"base\".\"id\" LEFT OUTER JOIN \"barns\" AS \"barn\" ON \"Cattle\".\"barn_id\" = \"barn\".\"id\" LEFT OUTER JOIN \"cattle\" AS \"father\" ON \"Cattle\".\"parent_male_id\" = \"father\".\"id\" LEFT OUTER JOIN \"cattle\" AS \"mother\" ON \"Cattle\".\"parent_female_id\" = \"mother\".\"id\" WHERE \"Cattle\".\"status\" = 'active' AND \"Cattle\".\"base_id\" = 1;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":116,"line":"3721","name":"error","position":"246","routine":"errorMissingColumn","severity":"错误","sql":"SELECT count(\"Cattle\".\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" LEFT OUTER JOIN \"bases\" AS \"base\" ON \"Cattle\".\"base_id\" = \"base\".\"id\" LEFT OUTER JOIN \"barns\" AS \"barn\" ON \"Cattle\".\"barn_id\" = \"barn\".\"id\" LEFT OUTER JOIN \"cattle\" AS \"father\" ON \"Cattle\".\"parent_male_id\" = \"father\".\"id\" LEFT OUTER JOIN \"cattle\" AS \"mother\" ON \"Cattle\".\"parent_female_id\" = \"mother\".\"id\" WHERE \"Cattle\".\"status\" = 'active' AND \"Cattle\".\"base_id\" = 1;"},"service":"cattle-management-api","sql":"SELECT count(\"Cattle\".\"id\") AS \"count\" FROM \"cattle\" AS \"Cattle\" LEFT OUTER JOIN \"bases\" AS \"base\" ON \"Cattle\".\"base_id\" = \"base\".\"id\" LEFT OUTER JOIN \"barns\" AS \"barn\" ON \"Cattle\".\"barn_id\" = \"barn\".\"id\" LEFT OUTER JOIN \"cattle\" AS \"father\" ON \"Cattle\".\"parent_male_id\" = \"father\".\"id\" LEFT OUTER JOIN \"cattle\" AS \"mother\" ON \"Cattle\".\"parent_female_id\" = \"mother\".\"id\" WHERE \"Cattle\".\"status\" = 'active' AND \"Cattle\".\"base_id\" = 1;","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.rawSelect (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1043:18)\n    at async Function.aggregate (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:2067:19)\n    at async Function.count (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:2124:20)\n    at async Promise.all (index 0)\n    at async Function.findAndCountAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:2183:27)\n    at async getCattleList (D:\\develop\\dameicattle\\backend\\src\\controllers\\CattleController.ts:61:31)","timestamp":"2025-07-22 19:33:34"}
{"ip":"::1","level":"error","message":"Error occurred: 字段 Base.base_id 不存在","method":"GET","service":"cattle-management-api","stack":"Error\n    at Query.run (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.rawSelect (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1043:18)\n    at async Function.aggregate (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:2067:19)\n    at async Function.count (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:2124:20)\n    at async Promise.all (index 0)\n    at async Function.findAndCountAll (D:\\develop\\dameicattle\\backend\\node_modules\\sequelize\\src\\model.js:2183:27)\n    at async getBases (D:\\develop\\dameicattle\\backend\\src\\controllers\\BaseController.ts:31:31)","timestamp":"2025-07-22 19:33:34","url":"/api/v1/bases","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"duration":24,"level":"info","message":"Operation logged","operation":"read","resource":"bases","service":"cattle-management-api","status":500,"timestamp":"2025-07-22 19:33:34","user":"admin"}
{"ip":"::1","level":"info","message":"GET /api/v1/health/statistics","service":"cattle-management-api","timestamp":"2025-07-22 19:33:37","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"info","message":"GET /api/v1/health/alerts","service":"cattle-management-api","timestamp":"2025-07-22 19:33:37","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"info","message":"GET /api/v1/health/trend","service":"cattle-management-api","timestamp":"2025-07-22 19:33:37","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"ip":"::1","level":"info","message":"GET /api/v1/health/records","service":"cattle-management-api","timestamp":"2025-07-22 19:33:43","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"error","message":"Redis Client Error: Connection timeout","service":"cattle-management-api","stack":"Error: Connection timeout\n    at Socket.<anonymous> (D:\\develop\\dameicattle\\backend\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:177:124)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at Socket._onTimeout (node:net:604:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-07-22 19:44:51"}
{"level":"info","message":"Redis Client Connected","service":"cattle-management-api","timestamp":"2025-07-22 19:44:51"}
{"level":"info","message":"Redis Client Ready","service":"cattle-management-api","timestamp":"2025-07-22 19:44:51"}
{"level":"info","message":"Database connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 19:44:52"}
{"level":"info","message":"Redis connection established successfully","service":"cattle-management-api","timestamp":"2025-07-22 19:44:52"}
