# 百度地图快速开始指南

## 🚀 快速配置

### 1. 获取百度地图API密钥

1. 访问 [百度地图开放平台](https://lbsyun.baidu.com/)
2. 注册并登录
3. 创建应用 → 选择"浏览器端"
4. 复制生成的AK（API Key）

### 2. 替换API密钥

在 `frontend/index.html` 中找到这一行：

```html
<script type="text/javascript" src="https://api.map.baidu.com/api?v=3.0&ak=AqjrVQkcQn8eq6LuZccWun4SUwqDOMBd&callback=initBaiduMap"></script>
```

将 `AqjrVQkcQn8eq6LuZccWun4SUwqDOMBd` 替换为您的API密钥。

### 3. 测试地图功能

1. 启动项目：`npm run dev`
2. 访问基地管理页面
3. 选择一个基地，点击"地图定位"标签
4. 或者在编辑基地时点击"地图选择"按钮

## 🔧 故障排除

### 问题：地图无法显示

**可能原因：**
- API密钥错误或未配置
- 域名未在百度地图控制台配置白名单
- 网络连接问题

**解决方法：**
1. 检查浏览器控制台是否有错误信息
2. 确认API密钥正确
3. 在百度地图控制台添加当前域名到白名单

### 问题：TypeError: BMap.Map is not a constructor

**解决方法：**
1. 检查网络连接，确保能访问百度地图API
2. 清除浏览器缓存并刷新页面
3. 检查API密钥是否有效

### 问题：地图显示但无法定位

**解决方法：**
1. 检查浏览器是否允许地理位置访问
2. 确保坐标格式正确（经度在前，纬度在后）
3. 验证坐标是否在有效范围内

## 📝 使用示例

### 在基地管理中使用

1. **查看基地位置**：
   - 进入基地管理页面
   - 选择一个基地
   - 点击"地图定位"标签查看位置

2. **设置基地位置**：
   - 点击"编辑基地"或"新增基地"
   - 在表单中点击"地图选择"按钮
   - 在地图上点击选择位置
   - 点击"确定"保存位置

### 坐标格式说明

- **经度范围**：-180 到 180
- **纬度范围**：-90 到 90
- **中国境内常用范围**：
  - 经度：73°33′E 到 135°05′E
  - 纬度：3°51′N 到 53°33′N

## 🌟 功能特性

- ✅ 地图显示和交互
- ✅ 位置标记和信息窗口
- ✅ 地图点击选择坐标
- ✅ 地理编码（地址转坐标）
- ✅ 逆地理编码（坐标转地址）
- ✅ 响应式设计
- ✅ 多种地图控件

## 📞 技术支持

如果遇到问题，请：

1. 查看浏览器控制台错误信息
2. 检查网络连接和API密钥配置
3. 参考百度地图官方文档：https://lbsyun.baidu.com/index.php?title=jspopular3.0

---

**注意**：当前使用的是测试API密钥，请在生产环境中替换为您自己的密钥。