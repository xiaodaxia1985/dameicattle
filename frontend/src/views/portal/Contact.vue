<template>
  <div class="contact-page">
    <!-- é¡µé¢å¤´éƒ¨ -->
    <section class="page-header">
      <div class="container">
        <h1>è”ç³»æˆ‘ä»¬</h1>
        <p>æˆ‘ä»¬æœŸå¾…ä¸æ‚¨çš„åˆä½œï¼Œå…±åˆ›ç¾å¥½æœªæ¥</p>
      </div>
    </section>

    <!-- è”ç³»æ–¹å¼ -->
    <section class="contact-info">
      <div class="container">
        <div class="contact-grid">
          <div class="contact-item">
            <div class="contact-icon">ğŸ“</div>
            <h3>è”ç³»ç”µè¯</h3>
            <p>400-123-4567</p>
            <p>010-12345678</p>
            <small>å·¥ä½œæ—¶é—´ï¼šå‘¨ä¸€è‡³å‘¨äº” 9:00-18:00</small>
          </div>
          <div class="contact-item">
            <div class="contact-icon">âœ‰ï¸</div>
            <h3>é‚®ç®±åœ°å€</h3>
            <p>info@cattle-management.com</p>
            <p>support@cattle-management.com</p>
            <small>æˆ‘ä»¬ä¼šåœ¨24å°æ—¶å†…å›å¤æ‚¨çš„é‚®ä»¶</small>
          </div>
          <div class="contact-item">
            <div class="contact-icon">ğŸ“</div>
            <h3>å…¬å¸åœ°å€</h3>
            <p>åŒ—äº¬å¸‚æœé˜³åŒºç§‘æŠ€å›­åŒº</p>
            <p>åˆ›æ–°å¤§å¦Aåº§15å±‚</p>
            <small>æ¬¢è¿é¢„çº¦åˆ°è®¿å‚è§‚</small>
          </div>
          <div class="contact-item">
            <div class="contact-icon">ğŸ’¬</div>
            <h3>åœ¨çº¿å®¢æœ</h3>
            <p>QQï¼š123456789</p>
            <p>å¾®ä¿¡ï¼šcattle-support</p>
            <small>åœ¨çº¿æ—¶é—´ï¼šå‘¨ä¸€è‡³å‘¨æ—¥ 9:00-21:00</small>
          </div>
        </div>
      </div>
    </section>

    <!-- åœ¨çº¿ç•™è¨€è¡¨å• -->
    <section class="contact-form-section">
      <div class="container">
        <div class="form-content">
          <div class="form-header">
            <h2>åœ¨çº¿ç•™è¨€</h2>
            <p>è¯·å¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼Œæˆ‘ä»¬ä¼šå°½å¿«ä¸æ‚¨è”ç³»</p>
          </div>
          <form @submit.prevent="submitForm" class="contact-form">
            <div class="form-row">
              <div class="form-group">
                <label for="name">å§“å *</label>
                <input
                  type="text"
                  id="name"
                  v-model="form.name"
                  required
                  placeholder="è¯·è¾“å…¥æ‚¨çš„å§“å"
                />
              </div>
              <div class="form-group">
                <label for="company">å…¬å¸åç§°</label>
                <input
                  type="text"
                  id="company"
                  v-model="form.company"
                  placeholder="è¯·è¾“å…¥å…¬å¸åç§°"
                />
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="phone">è”ç³»ç”µè¯ *</label>
                <input
                  type="tel"
                  id="phone"
                  v-model="form.phone"
                  required
                  placeholder="è¯·è¾“å…¥è”ç³»ç”µè¯"
                />
              </div>
              <div class="form-group">
                <label for="email">é‚®ç®±åœ°å€</label>
                <input
                  type="email"
                  id="email"
                  v-model="form.email"
                  placeholder="è¯·è¾“å…¥é‚®ç®±åœ°å€"
                />
              </div>
            </div>
            <div class="form-group">
              <label for="subject">å’¨è¯¢ä¸»é¢˜ *</label>
              <select id="subject" v-model="form.subject" required>
                <option value="">è¯·é€‰æ‹©å’¨è¯¢ä¸»é¢˜</option>
                <option value="product">äº§å“å’¨è¯¢</option>
                <option value="price">ä»·æ ¼å’¨è¯¢</option>
                <option value="demo">äº§å“æ¼”ç¤º</option>
                <option value="support">æŠ€æœ¯æ”¯æŒ</option>
                <option value="cooperation">åˆä½œæ´½è°ˆ</option>
                <option value="other">å…¶ä»–</option>
              </select>
            </div>
            <div class="form-group">
              <label for="cattleCount">é¢„è®¡ç®¡ç†ç‰›åªæ•°é‡</label>
              <select id="cattleCount" v-model="form.cattleCount">
                <option value="">è¯·é€‰æ‹©</option>
                <option value="1-100">1-100å¤´</option>
                <option value="101-500">101-500å¤´</option>
                <option value="501-1000">501-1000å¤´</option>
                <option value="1001-5000">1001-5000å¤´</option>
                <option value="5000+">5000å¤´ä»¥ä¸Š</option>
              </select>
            </div>
            <div class="form-group">
              <label for="message">è¯¦ç»†æè¿° *</label>
              <textarea
                id="message"
                v-model="form.message"
                required
                rows="6"
                placeholder="è¯·è¯¦ç»†æè¿°æ‚¨çš„éœ€æ±‚æˆ–é—®é¢˜"
              ></textarea>
            </div>
            <div class="form-group">
              <label for="preferredContact">é¦–é€‰è”ç³»æ–¹å¼</label>
              <div class="radio-group">
                <label class="radio-label">
                  <input type="radio" v-model="form.preferredContact" value="phone" />
                  <span class="radio-mark"></span>
                  ç”µè¯è”ç³»
                </label>
                <label class="radio-label">
                  <input type="radio" v-model="form.preferredContact" value="email" />
                  <span class="radio-mark"></span>
                  é‚®ä»¶è”ç³»
                </label>
                <label class="radio-label">
                  <input type="radio" v-model="form.preferredContact" value="wechat" />
                  <span class="radio-mark"></span>
                  å¾®ä¿¡è”ç³»
                </label>
              </div>
            </div>
            <div class="form-group checkbox-group">
              <label class="checkbox-label">
                <input type="checkbox" v-model="form.agree" required />
                <span class="checkmark"></span>
                æˆ‘å·²é˜…è¯»å¹¶åŒæ„<a href="#" @click.prevent="showPrivacy">ã€Šéšç§æ”¿ç­–ã€‹</a>
              </label>
            </div>
            <div class="form-actions">
              <button type="submit" class="btn btn-primary" :disabled="submitting">
                {{ submitting ? 'æäº¤ä¸­...' : 'æäº¤ç•™è¨€' }}
              </button>
              <button type="button" class="btn btn-outline" @click="resetForm">
                é‡ç½®è¡¨å•
              </button>
            </div>
          </form>
        </div>
      </div>
    </section>

    <!-- äº§å“è¯¢ä»·è¡¨å• -->
    <section class="inquiry-section">
      <div class="container">
        <div class="inquiry-content">
          <div class="inquiry-header">
            <h2>äº§å“è¯¢ä»·</h2>
            <p>è·å–ä¸“ä¸šçš„äº§å“æŠ¥ä»·å’Œè§£å†³æ–¹æ¡ˆ</p>
          </div>
          <div class="inquiry-form-container">
            <form @submit.prevent="submitInquiry" class="inquiry-form">
              <div class="form-row">
                <div class="form-group">
                  <label for="inquiryName">è”ç³»äºº *</label>
                  <input
                    type="text"
                    id="inquiryName"
                    v-model="inquiryForm.name"
                    required
                    placeholder="è¯·è¾“å…¥è”ç³»äººå§“å"
                  />
                </div>
                <div class="form-group">
                  <label for="inquiryPhone">è”ç³»ç”µè¯ *</label>
                  <input
                    type="tel"
                    id="inquiryPhone"
                    v-model="inquiryForm.phone"
                    required
                    placeholder="è¯·è¾“å…¥è”ç³»ç”µè¯"
                  />
                </div>
              </div>
              <div class="form-group">
                <label for="inquiryCompany">å…¬å¸åç§° *</label>
                <input
                  type="text"
                  id="inquiryCompany"
                  v-model="inquiryForm.company"
                  required
                  placeholder="è¯·è¾“å…¥å…¬å¸åç§°"
                />
              </div>
              <div class="form-group">
                <label>éœ€è¦çš„åŠŸèƒ½æ¨¡å— *</label>
                <div class="checkbox-grid">
                  <label class="checkbox-label" v-for="module in modules" :key="module.value">
                    <input type="checkbox" v-model="inquiryForm.modules" :value="module.value" />
                    <span class="checkmark"></span>
                    {{ module.label }}
                  </label>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="baseCount">åŸºåœ°æ•°é‡</label>
                  <select id="baseCount" v-model="inquiryForm.baseCount">
                    <option value="">è¯·é€‰æ‹©</option>
                    <option value="1">1ä¸ªåŸºåœ°</option>
                    <option value="2-5">2-5ä¸ªåŸºåœ°</option>
                    <option value="6-10">6-10ä¸ªåŸºåœ°</option>
                    <option value="10+">10ä¸ªä»¥ä¸ŠåŸºåœ°</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="userCount">é¢„è®¡ç”¨æˆ·æ•°</label>
                  <select id="userCount" v-model="inquiryForm.userCount">
                    <option value="">è¯·é€‰æ‹©</option>
                    <option value="1-10">1-10äºº</option>
                    <option value="11-50">11-50äºº</option>
                    <option value="51-100">51-100äºº</option>
                    <option value="100+">100äººä»¥ä¸Š</option>
                  </select>
                </div>
              </div>
              <div class="form-group">
                <label for="inquiryRequirements">ç‰¹æ®Šéœ€æ±‚</label>
                <textarea
                  id="inquiryRequirements"
                  v-model="inquiryForm.requirements"
                  rows="4"
                  placeholder="è¯·æè¿°æ‚¨çš„ç‰¹æ®Šéœ€æ±‚æˆ–å®šåˆ¶è¦æ±‚"
                ></textarea>
              </div>
              <div class="form-actions">
                <button type="submit" class="btn btn-primary" :disabled="submittingInquiry">
                  {{ submittingInquiry ? 'æäº¤ä¸­...' : 'è·å–æŠ¥ä»·' }}
                </button>
              </div>
            </form>
            <div class="inquiry-benefits">
              <h3>è¯¢ä»·ä¼˜åŠ¿</h3>
              <ul>
                <li>âœ“ ä¸“ä¸šå›¢é˜Ÿ1å¯¹1æœåŠ¡</li>
                <li>âœ“ 24å°æ—¶å†…å“åº”</li>
                <li>âœ“ å…è´¹äº§å“æ¼”ç¤º</li>
                <li>âœ“ å®šåˆ¶åŒ–è§£å†³æ–¹æ¡ˆ</li>
                <li>âœ“ é€æ˜åŒ–æŠ¥ä»·</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- åœ°å›¾ä½ç½® -->
    <section class="map-section">
      <div class="container">
        <div class="section-header">
          <h2>å…¬å¸ä½ç½®</h2>
          <p>æ¬¢è¿åˆ°è®¿æˆ‘ä»¬çš„åŠå…¬å®¤</p>
        </div>
        <div class="map-container">
          <div class="map-placeholder" @click="openMap">
            <div class="map-icon">ğŸ—ºï¸</div>
            <p>ç‚¹å‡»æŸ¥çœ‹è¯¦ç»†åœ°å›¾</p>
            <small>åŒ—äº¬å¸‚æœé˜³åŒºç§‘æŠ€å›­åŒºåˆ›æ–°å¤§å¦Aåº§15å±‚</small>
            <div class="map-coordinates">
              <span>ç»åº¦: 116.4074</span>
              <span>çº¬åº¦: 39.9042</span>
            </div>
          </div>
          <div class="map-info">
            <h3>äº¤é€šæŒ‡å—</h3>
            <div class="transport-item">
              <strong>ğŸš‡ åœ°é“ï¼š</strong>
              <p>åœ°é“10å·çº¿ç§‘æŠ€å›­ç«™Aå‡ºå£ï¼Œæ­¥è¡Œ5åˆ†é’Ÿ</p>
            </div>
            <div class="transport-item">
              <strong>ğŸšŒ å…¬äº¤ï¼š</strong>
              <p>ç§‘æŠ€å›­ç«™ï¼š123è·¯ã€456è·¯ã€789è·¯</p>
            </div>
            <div class="transport-item">
              <strong>ğŸš— è‡ªé©¾ï¼š</strong>
              <p>å¤§å¦åœ°ä¸‹åœè½¦åœºï¼Œè®¿å®¢å¯å…è´¹åœè½¦2å°æ—¶</p>
            </div>
            <div class="transport-item">
              <strong>âœˆï¸ æœºåœºï¼š</strong>
              <p>è·ç¦»é¦–éƒ½æœºåœºçº¦45åˆ†é’Ÿè½¦ç¨‹</p>
            </div>
            <div class="navigation-buttons">
              <button class="btn btn-outline" @click="openNavigation('baidu')">
                ç™¾åº¦åœ°å›¾å¯¼èˆª
              </button>
              <button class="btn btn-outline" @click="openNavigation('gaode')">
                é«˜å¾·åœ°å›¾å¯¼èˆª
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- å¸¸è§é—®é¢˜ -->
    <section class="faq-section">
      <div class="container">
        <div class="section-header">
          <h2>å¸¸è§é—®é¢˜</h2>
          <p>ä»¥ä¸‹æ˜¯å®¢æˆ·ç»å¸¸å’¨è¯¢çš„é—®é¢˜</p>
        </div>
        <div class="faq-list">
          <div class="faq-item" v-for="(faq, index) in faqs" :key="index">
            <div class="faq-question" @click="toggleFaq(index)">
              <h3>{{ faq.question }}</h3>
              <span class="faq-toggle" :class="{ active: faq.open }">+</span>
            </div>
            <div class="faq-answer" v-show="faq.open">
              <p>{{ faq.answer }}</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- åœ¨çº¿å®¢æœ -->
    <div class="online-service" v-if="showOnlineService">
      <div class="service-widget">
        <div class="service-header">
          <h4>åœ¨çº¿å®¢æœ</h4>
          <button class="close-btn" @click="showOnlineService = false">Ã—</button>
        </div>
        <div class="service-content">
          <div class="service-options">
            <a href="tel:400-123-4567" class="service-option">
              <i class="icon">ğŸ“</i>
              <span>ç”µè¯å’¨è¯¢</span>
            </a>
            <a href="mailto:info@cattle-management.com" class="service-option">
              <i class="icon">âœ‰ï¸</i>
              <span>é‚®ä»¶å’¨è¯¢</span>
            </a>
            <button class="service-option" @click="openWechat">
              <i class="icon">ğŸ’¬</i>
              <span>å¾®ä¿¡å’¨è¯¢</span>
            </button>
            <button class="service-option" @click="scrollToForm">
              <i class="icon">ğŸ“</i>
              <span>åœ¨çº¿ç•™è¨€</span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- æµ®åŠ¨å®¢æœæŒ‰é’® -->
    <div class="floating-service" @click="showOnlineService = true">
      <i class="service-icon">ğŸ’¬</i>
      <span class="service-text">å®¢æœ</span>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, reactive, onMounted } from 'vue'

// è¡¨å•æ•°æ®
const form = reactive({
  name: '',
  company: '',
  phone: '',
  email: '',
  subject: '',
  cattleCount: '',
  message: '',
  preferredContact: '',
  agree: false
})

// è¯¢ä»·è¡¨å•æ•°æ®
const inquiryForm = reactive({
  name: '',
  phone: '',
  company: '',
  modules: [] as string[],
  baseCount: '',
  userCount: '',
  requirements: ''
})

// åŠŸèƒ½æ¨¡å—é€‰é¡¹
const modules = ref([
  { value: 'cattle', label: 'ç‰›åªæ¡£æ¡ˆç®¡ç†' },
  { value: 'health', label: 'å¥åº·ç®¡ç†' },
  { value: 'feeding', label: 'ç²¾å‡†é¥²å–‚' },
  { value: 'materials', label: 'ç‰©èµ„ç®¡ç†' },
  { value: 'equipment', label: 'è®¾å¤‡ç®¡ç†' },
  { value: 'purchase', label: 'é‡‡è´­ç®¡ç†' },
  { value: 'sales', label: 'é”€å”®ç®¡ç†' },
  { value: 'dashboard', label: 'æ•°æ®åˆ†æ' }
])

// å¸¸è§é—®é¢˜æ•°æ®
const faqs = ref([
  {
    question: 'ç³»ç»Ÿæ”¯æŒå“ªäº›å¹³å°ï¼Ÿ',
    answer: 'æˆ‘ä»¬çš„ç³»ç»Ÿæ”¯æŒPCç«¯ï¼ˆWindowsã€Macã€Linuxï¼‰ã€ç§»åŠ¨ç«¯ï¼ˆiOSã€Androidï¼‰ä»¥åŠå¾®ä¿¡å°ç¨‹åºï¼Œå¯ä»¥æ»¡è¶³ä¸åŒåœºæ™¯çš„ä½¿ç”¨éœ€æ±‚ã€‚',
    open: false
  },
  {
    question: 'ç³»ç»Ÿéƒ¨ç½²éœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿ',
    answer: 'æ ¹æ®å®¢æˆ·çš„å…·ä½“éœ€æ±‚å’Œç¯å¢ƒï¼Œç³»ç»Ÿéƒ¨ç½²é€šå¸¸éœ€è¦1-2å‘¨æ—¶é—´ï¼ŒåŒ…æ‹¬ç¯å¢ƒæ­å»ºã€æ•°æ®è¿ç§»ã€ç”¨æˆ·åŸ¹è®­ç­‰ç¯èŠ‚ã€‚',
    open: false
  },
  {
    question: 'æ˜¯å¦æä¾›å®šåˆ¶å¼€å‘æœåŠ¡ï¼Ÿ',
    answer: 'æ˜¯çš„ï¼Œæˆ‘ä»¬æä¾›å®šåˆ¶å¼€å‘æœåŠ¡ã€‚å¯ä»¥æ ¹æ®å®¢æˆ·çš„ç‰¹æ®Šéœ€æ±‚è¿›è¡ŒåŠŸèƒ½å®šåˆ¶å’Œç•Œé¢è°ƒæ•´ï¼Œç¡®ä¿ç³»ç»Ÿå®Œå…¨ç¬¦åˆå®¢æˆ·çš„ä¸šåŠ¡æµç¨‹ã€‚',
    open: false
  },
  {
    question: 'ç³»ç»Ÿçš„æ•°æ®å®‰å…¨å¦‚ä½•ä¿éšœï¼Ÿ',
    answer: 'æˆ‘ä»¬é‡‡ç”¨å¤šå±‚æ¬¡çš„å®‰å…¨é˜²æŠ¤æªæ–½ï¼ŒåŒ…æ‹¬æ•°æ®åŠ å¯†ä¼ è¾“ã€æƒé™æ§åˆ¶ã€å®šæœŸå¤‡ä»½ã€å®‰å…¨å®¡è®¡ç­‰ï¼Œç¡®ä¿å®¢æˆ·æ•°æ®çš„å®‰å…¨æ€§ã€‚',
    open: false
  },
  {
    question: 'æŠ€æœ¯æ”¯æŒæœåŠ¡åŒ…æ‹¬å“ªäº›å†…å®¹ï¼Ÿ',
    answer: 'æˆ‘ä»¬æä¾›7Ã—24å°æ—¶æŠ€æœ¯æ”¯æŒï¼ŒåŒ…æ‹¬ç³»ç»Ÿä½¿ç”¨åŸ¹è®­ã€æ•…éšœæ’é™¤ã€åŠŸèƒ½å’¨è¯¢ã€ç³»ç»Ÿç»´æŠ¤ç­‰å…¨æ–¹ä½çš„æŠ€æœ¯æœåŠ¡ã€‚',
    open: false
  },
  {
    question: 'ç³»ç»Ÿçš„ä»·æ ¼å¦‚ä½•è®¡ç®—ï¼Ÿ',
    answer: 'ç³»ç»Ÿä»·æ ¼æ ¹æ®åŠŸèƒ½æ¨¡å—ã€ç”¨æˆ·æ•°é‡ã€éƒ¨ç½²æ–¹å¼ç­‰å› ç´ ç¡®å®šã€‚æˆ‘ä»¬æä¾›çµæ´»çš„å®šä»·æ–¹æ¡ˆï¼Œè¯·è”ç³»æˆ‘ä»¬è·å–è¯¦ç»†æŠ¥ä»·ã€‚',
    open: false
  }
])

const submitting = ref(false)
const submittingInquiry = ref(false)
const showOnlineService = ref(false)

// è®¿å®¢ç»Ÿè®¡
const visitorStats = reactive({
  totalVisits: 0,
  todayVisits: 0,
  onlineUsers: 0
})

// æäº¤ç•™è¨€è¡¨å•
const submitForm = async () => {
  submitting.value = true
  try {
    // æ¨¡æ‹Ÿæäº¤è¿‡ç¨‹
    await new Promise(resolve => setTimeout(resolve, 2000))
    
    // è®°å½•è®¿å®¢è¡Œä¸º
    recordVisitorAction('contact_form_submit', form)
    
    console.log('æäº¤è¡¨å•æ•°æ®:', form)
    
    alert('ç•™è¨€æäº¤æˆåŠŸï¼æˆ‘ä»¬ä¼šå°½å¿«ä¸æ‚¨è”ç³»ã€‚')
    resetForm()
  } catch (error) {
    console.error('æäº¤å¤±è´¥:', error)
    alert('æäº¤å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ã€‚')
  } finally {
    submitting.value = false
  }
}

// æäº¤è¯¢ä»·è¡¨å•
const submitInquiry = async () => {
  if (inquiryForm.modules.length === 0) {
    alert('è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªåŠŸèƒ½æ¨¡å—')
    return
  }
  
  submittingInquiry.value = true
  try {
    // æ¨¡æ‹Ÿæäº¤è¿‡ç¨‹
    await new Promise(resolve => setTimeout(resolve, 2000))
    
    // è®°å½•è®¿å®¢è¡Œä¸º
    recordVisitorAction('inquiry_form_submit', inquiryForm)
    
    console.log('æäº¤è¯¢ä»·æ•°æ®:', inquiryForm)
    
    alert('è¯¢ä»·æäº¤æˆåŠŸï¼æˆ‘ä»¬çš„é”€å”®é¡¾é—®ä¼šåœ¨24å°æ—¶å†…ä¸æ‚¨è”ç³»ã€‚')
    resetInquiryForm()
  } catch (error) {
    console.error('æäº¤å¤±è´¥:', error)
    alert('æäº¤å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ã€‚')
  } finally {
    submittingInquiry.value = false
  }
}

// é‡ç½®ç•™è¨€è¡¨å•
const resetForm = () => {
  Object.assign(form, {
    name: '',
    company: '',
    phone: '',
    email: '',
    subject: '',
    cattleCount: '',
    message: '',
    preferredContact: '',
    agree: false
  })
}

// é‡ç½®è¯¢ä»·è¡¨å•
const resetInquiryForm = () => {
  Object.assign(inquiryForm, {
    name: '',
    phone: '',
    company: '',
    modules: [],
    baseCount: '',
    userCount: '',
    requirements: ''
  })
}

// åˆ‡æ¢FAQæ˜¾ç¤ºçŠ¶æ€
const toggleFaq = (index: number) => {
  faqs.value[index].open = !faqs.value[index].open
  
  // è®°å½•ç”¨æˆ·è¡Œä¸º
  recordVisitorAction('faq_click', { question: faqs.value[index].question })
}

// æ˜¾ç¤ºéšç§æ”¿ç­–
const showPrivacy = () => {
  alert('éšç§æ”¿ç­–å†…å®¹...')
}

// æ‰“å¼€åœ°å›¾
const openMap = () => {
  // è®°å½•ç”¨æˆ·è¡Œä¸º
  recordVisitorAction('map_click')
  
  // è¿™é‡Œå¯ä»¥é›†æˆçœŸå®çš„åœ°å›¾API
  alert('æ­£åœ¨æ‰“å¼€åœ°å›¾...')
}

// æ‰“å¼€å¯¼èˆª
const openNavigation = (type: 'baidu' | 'gaode') => {
  const address = 'åŒ—äº¬å¸‚æœé˜³åŒºç§‘æŠ€å›­åŒºåˆ›æ–°å¤§å¦Aåº§15å±‚'
  
  // è®°å½•ç”¨æˆ·è¡Œä¸º
  recordVisitorAction('navigation_click', { type })
  
  if (type === 'baidu') {
    // ç™¾åº¦åœ°å›¾å¯¼èˆª
    const url = `https://api.map.baidu.com/marker?location=39.9042,116.4074&title=${encodeURIComponent(address)}&content=${encodeURIComponent('è‚‰ç‰›å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ç³»ç»Ÿ')}&output=html`
    window.open(url, '_blank')
  } else if (type === 'gaode') {
    // é«˜å¾·åœ°å›¾å¯¼èˆª
    const url = `https://uri.amap.com/marker?position=116.4074,39.9042&name=${encodeURIComponent(address)}`
    window.open(url, '_blank')
  }
}

// æ‰“å¼€å¾®ä¿¡å®¢æœ
const openWechat = () => {
  recordVisitorAction('wechat_click')
  alert('è¯·æ·»åŠ å¾®ä¿¡å·ï¼šcattle-support')
}

// æ»šåŠ¨åˆ°è¡¨å•
const scrollToForm = () => {
  const formElement = document.querySelector('.contact-form-section')
  if (formElement) {
    formElement.scrollIntoView({ behavior: 'smooth' })
  }
  showOnlineService.value = false
}

// è®°å½•è®¿å®¢è¡Œä¸º
const recordVisitorAction = (action: string, data?: any) => {
  const actionData = {
    action,
    data,
    timestamp: new Date().toISOString(),
    userAgent: navigator.userAgent,
    url: window.location.href
  }
  
  console.log('è®¿å®¢è¡Œä¸ºè®°å½•:', actionData)
  
  // è¿™é‡Œå¯ä»¥å‘é€åˆ°åç«¯è¿›è¡Œç»Ÿè®¡åˆ†æ
  // analytics.track(actionData)
}

// åˆå§‹åŒ–è®¿å®¢ç»Ÿè®¡
const initVisitorStats = () => {
  // æ¨¡æ‹Ÿè®¿å®¢ç»Ÿè®¡æ•°æ®
  visitorStats.totalVisits = Math.floor(Math.random() * 10000) + 5000
  visitorStats.todayVisits = Math.floor(Math.random() * 100) + 50
  visitorStats.onlineUsers = Math.floor(Math.random() * 20) + 5
  
  // è®°å½•é¡µé¢è®¿é—®
  recordVisitorAction('page_visit', { page: 'contact' })
}

// é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
onMounted(() => {
  initVisitorStats()
  
  // 5ç§’åæ˜¾ç¤ºåœ¨çº¿å®¢æœæç¤º
  setTimeout(() => {
    if (!showOnlineService.value) {
      // å¯ä»¥æ˜¾ç¤ºä¸€ä¸ªå°æç¤º
      console.log('åœ¨çº¿å®¢æœå¯ç”¨')
    }
  }, 5000)
})
</script>

<style scoped>
.contact-page {
  min-height: 100vh;
  width: 100%;
}

/* é€šç”¨å®¹å™¨æ ·å¼ - ç¡®ä¿å†…å®¹å±…ä¸­ä¸”æœ‰åˆé€‚è¾¹è· */
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
  width: 100%;
  box-sizing: border-box;
}

/* é’ˆå¯¹ä¸åŒå±å¹•å°ºå¯¸çš„ä¼˜åŒ– */
@media (min-width: 576px) {
  .container {
    padding: 0 30px;
  }
}

@media (min-width: 768px) {
  .container {
    padding: 0 40px;
  }
}

@media (min-width: 992px) {
  .container {
    padding: 0 50px;
  }
}

@media (min-width: 1200px) {
  .container {
    max-width: 1200px;
    padding: 0 60px;
  }
}

@media (min-width: 1400px) {
  .container {
    max-width: 1300px;
    padding: 0 80px;
  }
}

@media (min-width: 1600px) {
  .container {
    max-width: 1400px;
    padding: 0 100px;
  }
}

/* ç¡®ä¿é¡µé¢å†…å®¹åœ¨è¶…å¤§å±å¹•ä¸Šä¸ä¼šè¿‡åº¦æ‹‰ä¼¸ */
@media (min-width: 1920px) {
  .container {
    max-width: 1500px;
    padding: 0 120px;
  }
}

/* é¡µé¢å¤´éƒ¨ */
.page-header {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 80px 0;
  text-align: center;
}

.page-header h1 {
  font-size: 48px;
  font-weight: 700;
  margin: 0 0 16px 0;
}

.page-header p {
  font-size: 20px;
  margin: 0;
  opacity: 0.9;
}

/* è”ç³»æ–¹å¼ */
.contact-info {
  padding: 80px 0;
  background: white;
}

.contact-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 40px;
}

.contact-item {
  text-align: center;
  padding: 40px 30px;
  background: #f8f9fa;
  border-radius: 12px;
  border: 2px solid #e9ecef;
  transition: transform 0.3s, box-shadow 0.3s;
}

.contact-item:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
}

.contact-icon {
  font-size: 48px;
  margin-bottom: 20px;
}

.contact-item h3 {
  font-size: 20px;
  font-weight: 600;
  margin: 0 0 16px 0;
  color: #2c3e50;
}

.contact-item p {
  font-size: 16px;
  color: #495057;
  margin: 4px 0;
}

.contact-item small {
  font-size: 12px;
  color: #6c757d;
  margin-top: 8px;
  display: block;
}

/* è”ç³»è¡¨å• */
.contact-form-section {
  padding: 80px 0;
  background-color: #f8f9fa;
}

.form-header {
  text-align: center;
  margin-bottom: 50px;
}

.form-header h2 {
  font-size: 36px;
  font-weight: 700;
  margin: 0 0 16px 0;
  color: #2c3e50;
}

.form-header p {
  font-size: 18px;
  color: #6c757d;
  margin: 0;
}

.contact-form {
  max-width: 800px;
  margin: 0 auto;
  background: white;
  padding: 50px;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
}

.form-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  margin-bottom: 20px;
}

.form-group {
  margin-bottom: 20px;
}

.form-group label {
  display: block;
  font-size: 14px;
  font-weight: 600;
  color: #2c3e50;
  margin-bottom: 8px;
}

.form-group input,
.form-group select,
.form-group textarea {
  width: 100%;
  padding: 12px 16px;
  border: 2px solid #e9ecef;
  border-radius: 8px;
  font-size: 14px;
  transition: border-color 0.3s;
  box-sizing: border-box;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
  outline: none;
  border-color: #667eea;
}

.form-group textarea {
  resize: vertical;
  min-height: 120px;
}

.checkbox-group {
  display: flex;
  align-items: center;
}

.checkbox-label {
  display: flex;
  align-items: center;
  cursor: pointer;
  font-size: 14px;
  color: #495057;
}

.checkbox-label input[type="checkbox"] {
  width: auto;
  margin-right: 8px;
}

.checkbox-label a {
  color: #667eea;
  text-decoration: none;
}

.checkbox-label a:hover {
  text-decoration: underline;
}

.form-actions {
  display: flex;
  gap: 20px;
  justify-content: center;
  margin-top: 30px;
}

.btn {
  padding: 12px 24px;
  border-radius: 8px;
  font-weight: 600;
  font-size: 16px;
  transition: all 0.3s;
  cursor: pointer;
  border: none;
  text-decoration: none;
  display: inline-block;
}

.btn-primary {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
}

.btn-primary:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
}

.btn-primary:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.btn-outline {
  background-color: transparent;
  color: #667eea;
  border: 2px solid #667eea;
}

.btn-outline:hover {
  background-color: #667eea;
  color: white;
}

/* å•é€‰æŒ‰é’®ç»„ */
.radio-group {
  display: flex;
  gap: 20px;
  flex-wrap: wrap;
}

.radio-label {
  display: flex;
  align-items: center;
  cursor: pointer;
  font-size: 14px;
  color: #495057;
}

.radio-label input[type="radio"] {
  width: auto;
  margin-right: 8px;
}

/* äº§å“è¯¢ä»· */
.inquiry-section {
  padding: 80px 0;
  background: white;
}

.inquiry-header {
  text-align: center;
  margin-bottom: 50px;
}

.inquiry-header h2 {
  font-size: 36px;
  font-weight: 700;
  margin: 0 0 16px 0;
  color: #2c3e50;
}

.inquiry-header p {
  font-size: 18px;
  color: #6c757d;
  margin: 0;
}

.inquiry-form-container {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 40px;
  max-width: 1200px;
  margin: 0 auto;
}

.inquiry-form {
  background: #f8f9fa;
  padding: 40px;
  border-radius: 12px;
  border: 2px solid #e9ecef;
}

.checkbox-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 12px;
  margin-top: 8px;
}

.inquiry-benefits {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 40px 30px;
  border-radius: 12px;
  height: fit-content;
}

.inquiry-benefits h3 {
  font-size: 20px;
  font-weight: 600;
  margin: 0 0 20px 0;
}

.inquiry-benefits ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.inquiry-benefits li {
  padding: 8px 0;
  font-size: 14px;
  opacity: 0.9;
}

/* åœ°å›¾å¢å¼º */
.section-header {
  text-align: center;
  margin-bottom: 60px;
}

.section-header h2 {
  font-size: 36px;
  font-weight: 700;
  margin: 0 0 16px 0;
  color: #2c3e50;
}

.section-header p {
  font-size: 18px;
  color: #6c757d;
  margin: 0;
}

.map-section {
  padding: 80px 0;
  background-color: #f8f9fa;
}

.map-container {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 40px;
  align-items: start;
}

.map-placeholder {
  height: 400px;
  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  border: 2px solid #dee2e6;
  cursor: pointer;
  transition: transform 0.3s, box-shadow 0.3s;
}

.map-placeholder:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
}

.map-icon {
  font-size: 60px;
  margin-bottom: 20px;
}

.map-placeholder p {
  font-size: 18px;
  color: #6c757d;
  margin: 0 0 8px 0;
}

.map-placeholder small {
  font-size: 14px;
  color: #adb5bd;
  margin-bottom: 16px;
}

.map-coordinates {
  display: flex;
  gap: 20px;
  font-size: 12px;
  color: #6c757d;
}

.map-info h3 {
  font-size: 24px;
  font-weight: 600;
  margin: 0 0 30px 0;
  color: #2c3e50;
}

.transport-item {
  margin-bottom: 20px;
  padding: 15px;
  background: white;
  border-radius: 8px;
  border-left: 4px solid #667eea;
}

.transport-item strong {
  color: #2c3e50;
  font-size: 16px;
}

.transport-item p {
  margin: 8px 0 0 0;
  color: #6c757d;
  font-size: 14px;
}

.navigation-buttons {
  display: flex;
  gap: 12px;
  margin-top: 20px;
}

.navigation-buttons .btn {
  font-size: 14px;
  padding: 8px 16px;
}

/* å¸¸è§é—®é¢˜ */
.faq-section {
  padding: 80px 0;
  background: white;
}

.faq-list {
  max-width: 800px;
  margin: 0 auto;
}

.faq-item {
  background: #f8f9fa;
  border-radius: 12px;
  margin-bottom: 16px;
  overflow: hidden;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
}

.faq-question {
  padding: 20px 30px;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: background-color 0.3s;
}

.faq-question:hover {
  background-color: #e9ecef;
}

.faq-question h3 {
  font-size: 16px;
  font-weight: 600;
  margin: 0;
  color: #2c3e50;
}

.faq-toggle {
  font-size: 24px;
  font-weight: 300;
  color: #667eea;
  transition: transform 0.3s;
}

.faq-toggle.active {
  transform: rotate(45deg);
}

.faq-answer {
  padding: 0 30px 20px 30px;
  border-top: 1px solid #dee2e6;
}

.faq-answer p {
  margin: 20px 0 0 0;
  color: #6c757d;
  line-height: 1.6;
}

/* åœ¨çº¿å®¢æœ */
.online-service {
  position: fixed;
  bottom: 100px;
  right: 30px;
  z-index: 1000;
}

.service-widget {
  background: white;
  border-radius: 12px;
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
  width: 280px;
  overflow: hidden;
}

.service-header {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 15px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.service-header h4 {
  margin: 0;
  font-size: 16px;
  font-weight: 600;
}

.close-btn {
  background: none;
  border: none;
  color: white;
  font-size: 20px;
  cursor: pointer;
  padding: 0;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.service-content {
  padding: 20px;
}

.service-options {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.service-option {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  background: #f8f9fa;
  border: none;
  border-radius: 8px;
  text-decoration: none;
  color: #2c3e50;
  font-size: 14px;
  cursor: pointer;
  transition: background-color 0.3s;
}

.service-option:hover {
  background-color: #e9ecef;
  color: #2c3e50;
}

.service-option .icon {
  font-size: 18px;
}

/* æµ®åŠ¨å®¢æœæŒ‰é’® */
.floating-service {
  position: fixed;
  bottom: 30px;
  right: 30px;
  width: 60px;
  height: 60px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 50%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 0 4px 20px rgba(102, 126, 234, 0.4);
  transition: transform 0.3s, box-shadow 0.3s;
  z-index: 999;
}

.floating-service:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5);
}

.service-icon {
  font-size: 24px;
  color: white;
  margin-bottom: 2px;
}

.service-text {
  font-size: 10px;
  color: white;
  font-weight: 500;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
  .page-header h1 {
    font-size: 36px;
  }
  
  .page-header p {
    font-size: 18px;
  }
  
  .contact-grid {
    grid-template-columns: 1fr;
  }
  
  .contact-form {
    padding: 30px 20px;
  }
  
  .form-row {
    grid-template-columns: 1fr;
  }
  
  .form-actions {
    flex-direction: column;
    align-items: center;
  }
  
  .form-header h2,
  .inquiry-header h2 {
    font-size: 28px;
  }
  
  .inquiry-form-container {
    grid-template-columns: 1fr;
  }
  
  .inquiry-form {
    padding: 30px 20px;
  }
  
  .checkbox-grid {
    grid-template-columns: 1fr;
  }
  
  .radio-group {
    flex-direction: column;
    gap: 12px;
  }
  
  .map-container {
    grid-template-columns: 1fr;
  }
  
  .map-placeholder {
    height: 250px;
  }
  
  .navigation-buttons {
    flex-direction: column;
  }
  
  .section-header h2 {
    font-size: 28px;
  }
  
  .faq-question {
    padding: 15px 20px;
  }
  
  .faq-answer {
    padding: 0 20px 15px 20px;
  }
  
  .online-service {
    bottom: 80px;
    right: 20px;
  }
  
  .service-widget {
    width: 260px;
  }
  
  .floating-service {
    bottom: 20px;
    right: 20px;
    width: 50px;
    height: 50px;
  }
  
  .service-icon {
    font-size: 20px;
  }
  
  .service-text {
    font-size: 9px;
  }
}

@media (max-width: 480px) {
  .page-header {
    padding: 60px 0;
  }
  
  .page-header h1 {
    font-size: 28px;
  }
  
  .contact-info,
  .contact-form-section,
  .inquiry-section,
  .map-section,
  .faq-section {
    padding: 60px 0;
  }
  
  .contact-item {
    padding: 30px 20px;
  }
  
  .inquiry-benefits {
    padding: 30px 20px;
  }
  
  .service-widget {
    width: calc(100vw - 40px);
    right: 20px;
  }
}
</style>